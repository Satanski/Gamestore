˙
lD:\OneDrive\Dokumenty\Programowanie\EPAM\Repos\Gamestore\Gamestore.Repository\DIRegistrations\DALServices.cs
	namespace 	
	Gamestore
 
. 
DAL 
. 
DIRegistrations '
;' (
public		 
static		 
class		 
DAlServices		 
{

 
public 

static 
void 
	Configure  
(  !
IServiceCollection! 3
services4 <
,< =
string> D
connectionStringE U
)U V
{ 
services 
. 
AddDbContext 
< 
GamestoreContext .
>. /
(/ 0
options0 7
=>8 :
options; B
.B C
UseSqlServerC O
(O P
connectionStringP `
)` a
)a b
;b c
services 
. 
	AddScoped 
< 
IGenreRepository +
,+ ,
GenreRepository- <
>< =
(= >
)> ?
;? @
services 
. 
	AddScoped 
< 
IGameRepository *
,* +
GameRepository, :
>: ;
(; <
)< =
;= >
services 
. 
	AddScoped 
< 
IPlatformRepository .
,. /
PlatformRepository0 B
>B C
(C D
)D E
;E F
services 
. 
	AddScoped 
<  
IGameGenreRepository /
,/ 0
GameGenreRepository1 D
>D E
(E F
)F G
;G H
services 
. 
	AddScoped 
< #
IGamePlatformRepository 2
,2 3"
GamePlatformRepository4 J
>J K
(K L
)L M
;M N
services 
. 
	AddScoped 
<  
IPublisherRepository /
,/ 0
PublisherRepository1 D
>D E
(E F
)F G
;G H
services 
. 
	AddScoped 
< 
IOrderRepository +
,+ ,
OrderRepository- <
>< =
(= >
)> ?
;? @
services 
. 
	AddScoped 
<  
IOrderGameRepository /
,/ 0
OrderGameRepository1 D
>D E
(E F
)F G
;G H
services 
. 
	AddScoped 
< 
ICommentRepository -
,- .
CommentRepository/ @
>@ A
(A B
)B C
;C D
services 
. 
	AddScoped 
< 
IUnitOfWork &
,& '

UnitOfWork( 2
>2 3
(3 4
)4 5
;5 6
} 
} à
aD:\OneDrive\Dokumenty\Programowanie\EPAM\Repos\Gamestore\Gamestore.Repository\Entities\Comment.cs
	namespace 	
	Gamestore
 
. 
DAL 
. 
Entities  
;  !
[ 
Table 
( 
$str 
) 
] 
public 
class 
Comment 
{ 
public		 

Guid		 
Id		 
{		 
get		 
;		 
set		 
;		 
}		  
[ 
Required 
] 
public 

string 
Name 
{ 
get 
; 
set !
;! "
}# $
[ 
Required 
] 
public 

string 
Body 
{ 
get 
; 
set !
;! "
}# $
[ 
Required 
] 
public 

Guid 
GameId 
{ 
get 
; 
set !
;! "
}# $
public 

Guid 
? 
ParentCommentId  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 

Game 
Product 
{ 
get 
; 
set "
;" #
}$ %
public 

Comment 
? 
ParentComment !
{" #
get$ '
;' (
set) ,
;, -
}. /
} ô+
^D:\OneDrive\Dokumenty\Programowanie\EPAM\Repos\Gamestore\Gamestore.Repository\Entities\Game.cs
	namespace 	
	Gamestore
 
. 
DAL 
. 
Entities  
;  !
[ 
Table 
( 
$str 
) 
] 
[		 
Index		 
(		 
nameof		 
(		 
Key		 
)		 
,		 
IsUnique		 
=		 
true		 #
)		# $
]		$ %
public

 
class

 
Game

 
{ 
[ 
Key 
] 	
public 

Guid 
Id 
{ 
get 
; 
set 
; 
}  
[ 
Required 
] 
public 

string 
Name 
{ 
get 
; 
set !
;! "
}# $
[ 
Required 
] 
public 

string 
Key 
{ 
get 
; 
set  
;  !
}" #
[ 
Required 
] 
public 

double 
Price 
{ 
get 
; 
set "
;" #
}$ %
[ 
Required 
] 
public 

int 
UnitInStock 
{ 
get  
;  !
set" %
;% &
}' (
[ 
Required 
] 
public 

int 
Discount 
{ 
get 
; 
set "
;" #
}$ %
[ 
Required 
] 
public 

Guid 
PublisherId 
{ 
get !
;! "
set# &
;& '
}( )
[!! 
Required!! 
]!! 
public"" 

DateOnly"" 
PublishDate"" 
{""  !
get""" %
;""% &
set""' *
;""* +
}"", -
public$$ 

string$$ 
?$$ 
Description$$ 
{$$  
get$$! $
;$$$ %
set$$& )
;$$) *
}$$+ ,
=$$- .
null$$/ 3
!$$3 4
;$$4 5
public&& 

int&& 
NumberOfViews&& 
{&& 
get&& "
;&&" #
set&&$ '
;&&' (
}&&) *
public(( 

int(( 
?(( 
ReorderLevel(( 
{(( 
get(( "
;((" #
set(($ '
;((' (
}(() *
public** 

string** 
?** 
QuantityPerUnit** "
{**# $
get**% (
;**( )
set*** -
;**- .
}**/ 0
public,, 

int,, 
?,, 
UnitsOnOrder,, 
{,, 
get,, "
;,," #
set,,$ '
;,,' (
},,) *
public.. 

bool.. 
	IsDeleted.. 
{.. 
get.. 
;..  
set..! $
;..$ %
}..& '
public00 

	Publisher00 
	Publisher00 
{00  
get00! $
;00$ %
set00& )
;00) *
}00+ ,
public22 

List22 
<22 

GameGenres22 
>22 
ProductCategories22 -
{22. /
get220 3
;223 4
set225 8
;228 9
}22: ;
public44 

List44 
<44 
GamePlatform44 
>44 
ProductPlatforms44 .
{44/ 0
get441 4
;444 5
set446 9
;449 :
}44; <
public66 

List66 
<66 
	OrderGame66 
>66 
OrderProducts66 (
{66) *
get66+ .
;66. /
set660 3
;663 4
}665 6
public88 

List88 
<88 
Comment88 
>88 
Comments88 !
{88" #
get88$ '
;88' (
set88) ,
;88, -
}88. /
public:: 

override:: 
bool:: 
Equals:: 
(::  
object::  &
?::& '
obj::( +
)::+ ,
{;; 
if<< 

(<< 
obj<< 
is<< 
Game<< 
other<< 
)<< 
{== 	
return>> 
Id>> 
.>> 
Equals>> 
(>> 
other>> "
.>>" #
Id>># %
)>>% &
&&>>' )
Key>>* -
.>>- .
Equals>>. 4
(>>4 5
other>>5 :
.>>: ;
Key>>; >
,>>> ?
StringComparison>>@ P
.>>P Q
OrdinalIgnoreCase>>Q b
)>>b c
;>>c d
}?? 	
returnAA 
falseAA 
;AA 
}BB 
publicDD 

overrideDD 
intDD 
GetHashCodeDD #
(DD# $
)DD$ %
{EE 
returnFF 
HashCodeFF 
.FF 
CombineFF 
(FF  
IdFF  "
,FF" #
NameFF$ (
.FF( )
ToLowerInvariantFF) 9
(FF9 :
)FF: ;
)FF; <
;FF< =
}GG 
}HH Ô	
dD:\OneDrive\Dokumenty\Programowanie\EPAM\Repos\Gamestore\Gamestore.Repository\Entities\GameGenres.cs
	namespace 	
	Gamestore
 
. 
DAL 
. 
Entities  
;  !
[ 
Table 
( 
$str 
) 
] 
[ 

PrimaryKey 
( 
nameof 
( 
GameId 
) 
, 
nameof "
(" #
GenreId# *
)* +
)+ ,
], -
public 
class 

GameGenres 
{		 
public

 

Guid

 
GameId

 
{

 
get

 
;

 
set

 !
;

! "
}

# $
public 

Guid 
GenreId 
{ 
get 
; 
set "
;" #
}$ %
public 

Game 
Product 
{ 
get 
; 
set "
;" #
}$ %
public 

Genre 
Category 
{ 
get 
;  
set! $
;$ %
}& '
} ˘	
fD:\OneDrive\Dokumenty\Programowanie\EPAM\Repos\Gamestore\Gamestore.Repository\Entities\GamePlatform.cs
	namespace 	
	Gamestore
 
. 
DAL 
. 
Entities  
;  !
[ 
Table 
( 
$str 
) 
] 
[ 

PrimaryKey 
( 
nameof 
( 
GameId 
) 
, 
nameof "
(" #

PlatformId# -
)- .
). /
]/ 0
public 
class 
GamePlatform 
{		 
public

 

Guid

 
GameId

 
{

 
get

 
;

 
set

 !
;

! "
}

# $
public 

Guid 

PlatformId 
{ 
get  
;  !
set" %
;% &
}' (
public 

Game 
Game 
{ 
get 
; 
set 
;  
}! "
public 

Platform 
Platform 
{ 
get "
;" #
set$ '
;' (
}) *
} ¨
jD:\OneDrive\Dokumenty\Programowanie\EPAM\Repos\Gamestore\Gamestore.Repository\Entities\GamestoreContext.cs
	namespace 	
	Gamestore
 
. 
DAL 
. 
Entities  
;  !
public 
class 
GamestoreContext 
( 
DbContextOptions .
<. /
GamestoreContext/ ?
>? @
optionsA H
)H I
:J K
	DbContextL U
(U V
optionsV ]
)] ^
{ 
public 

DbSet 
< 
Game 
> 
Games 
{ 
get "
;" #
set$ '
;' (
}) *
public

 

DbSet

 
<

 
Platform

 
>

 
	Platforms

 $
{

% &
get

' *
;

* +
set

, /
;

/ 0
}

1 2
public 

DbSet 
< 
Genre 
> 
Genres 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

DbSet 
< 
	Publisher 
> 

Publishers &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 

DbSet 
< 
Order 
> 
Orders 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

DbSet 
< 
	OrderGame 
> 

OrderGames &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 

DbSet 
< 

GameGenres 
> 

GameGenres '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
public 

DbSet 
< 
GamePlatform 
> 
GamePlatforms ,
{- .
get/ 2
;2 3
set4 7
;7 8
}9 :
public 

DbSet 
< 
Comment 
> 
Comments "
{# $
get% (
;( )
set* -
;- .
}/ 0
	protected 
override 
void 
OnModelCreating +
(+ ,
ModelBuilder, 8
modelBuilder9 E
)E F
{ 
modelBuilder 
. +
ApplyConfigurationsFromAssembly 4
(4 5
Assembly5 =
.= > 
GetExecutingAssembly> R
(R S
)S T
)T U
;U V
} 
} æ
_D:\OneDrive\Dokumenty\Programowanie\EPAM\Repos\Gamestore\Gamestore.Repository\Entities\Genre.cs
	namespace 	
	Gamestore
 
. 
DAL 
. 
Entities  
;  !
[ 
Table 
( 
$str 
) 
] 
[		 
Index		 
(		 
nameof		 
(		 
Name		 
)		 
,		 
IsUnique		 
=		 
true		  $
)		$ %
]		% &
public

 
class

 
Genre

 
{ 
[ 
Key 
] 	
public 

Guid 
Id 
{ 
get 
; 
set 
; 
}  
[ 
Required 
] 
public 

string 
Name 
{ 
get 
; 
set !
;! "
}# $
public 

Guid 
? 
ParentGenreId 
{  
get! $
;$ %
set& )
;) *
}+ ,
=- .
null/ 3
!3 4
;4 5
public 

ICollection 
< 

GameGenres !
>! "

GameGenres# -
{. /
get0 3
;3 4
set5 8
;8 9
}: ;
} ’
_D:\OneDrive\Dokumenty\Programowanie\EPAM\Repos\Gamestore\Gamestore.Repository\Entities\Order.cs
	namespace 	
	Gamestore
 
. 
DAL 
. 
Entities  
;  !
[ 
Table 
( 
$str 
) 
] 
public 
class 
Order 
{		 
[

 
Key

 
]

 	
public 

Guid 
Id 
{ 
get 
; 
set 
; 
}  
[ 
Required 
] 
public 

Guid 

CustomerId 
{ 
get  
;  !
set" %
;% &
}' (
[ 
Required 
] 
public 

OrderStatus 
Status 
{ 
get  #
;# $
set% (
;( )
}* +
public 

DateTime 
	OrderDate 
{ 
get  #
;# $
set% (
;( )
}* +
public 

DateTime 
? 
RequiredDate !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 

DateTime 
? 
ShippedDate  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 

Guid 
? 

EmployeeId 
{ 
get !
;! "
set# &
;& '
}( )
public 

Guid 
? 
ShipVia 
{ 
get 
; 
set  #
;# $
}% &
public 

float 
? 
Freight 
{ 
get 
;  
set! $
;$ %
}& '
public 

string 
? 
ShipName 
{ 
get !
;! "
set# &
;& '
}( )
public!! 

string!! 
?!! 
ShipAddress!! 
{!!  
get!!! $
;!!$ %
set!!& )
;!!) *
}!!+ ,
public## 

string## 
?## 
ShipCity## 
{## 
get## !
;##! "
set### &
;##& '
}##( )
public%% 

string%% 
?%% 

ShipRegion%% 
{%% 
get%%  #
;%%# $
set%%% (
;%%( )
}%%* +
public'' 

string'' 
?'' 
ShipPostalCode'' !
{''" #
get''$ '
;''' (
set'') ,
;'', -
}''. /
public)) 

string)) 
?)) 
ShipCountry)) 
{))  
get))! $
;))$ %
set))& )
;))) *
}))+ ,
public++ 

List++ 
<++ 
	OrderGame++ 
>++ 

OrderGames++ %
{++& '
get++( +
;+++ ,
set++- 0
;++0 1
}++2 3
},, ë
cD:\OneDrive\Dokumenty\Programowanie\EPAM\Repos\Gamestore\Gamestore.Repository\Entities\OrderGame.cs
	namespace 	
	Gamestore
 
. 
DAL 
. 
Entities  
;  !
[ 
Table 
( 
$str 
) 
] 
[		 

PrimaryKey		 
(		 
nameof		 
(		 
OrderId		 
)		 
,		 
nameof		 #
(		# $
GameId		$ *
)		* +
)		+ ,
]		, -
public

 
class

 
	OrderGame

 
{ 
[ 
Required 
] 
public 

Guid 
OrderId 
{ 
get 
; 
set "
;" #
}$ %
[ 
Required 
] 
public 

Guid 
GameId 
{ 
get 
; 
set !
;! "
}# $
[ 
Required 
] 
public 

double 
Price 
{ 
get 
; 
set "
;" #
}$ %
[ 
Required 
] 
public 

int 
Quantity 
{ 
get 
; 
set "
;" #
}$ %
public 

int 
? 
Discount 
{ 
get 
; 
set  #
;# $
}% &
public 

Order 
Order 
{ 
get 
; 
set !
;! "
}# $
public 

Game 
Game 
{ 
get 
; 
set 
;  
}! "
} ‹	
bD:\OneDrive\Dokumenty\Programowanie\EPAM\Repos\Gamestore\Gamestore.Repository\Entities\Platform.cs
	namespace 	
	Gamestore
 
. 
DAL 
. 
Entities  
;  !
[ 
Table 
( 
$str 
) 
] 
[		 
Index		 
(		 
nameof		 
(		 
Type		 
)		 
,		 
IsUnique		 
=		 
true		  $
)		$ %
]		% &
public 
class 
Platform 
{ 
[ 
Key 
] 	
public 

Guid 
Id 
{ 
get 
; 
set 
; 
}  
[ 
Required 
] 
public 

string 
Type 
{ 
get 
; 
set !
;! "
}# $
public 

ICollection 
< 
GamePlatform #
># $
GamePlatforms% 2
{3 4
get5 8
;8 9
set: =
;= >
}? @
} ±
cD:\OneDrive\Dokumenty\Programowanie\EPAM\Repos\Gamestore\Gamestore.Repository\Entities\Publisher.cs
	namespace 	
	Gamestore
 
. 
DAL 
. 
Entities  
;  !
[ 
Table 
( 
$str 
) 
] 
[		 
Index		 
(		 
nameof		 
(		 
CompanyName		 
)		 
,		 
IsUnique		 $
=		% &
true		' +
)		+ ,
]		, -
public

 
class

 
	Publisher

 
{ 
[ 
Key 
] 	
public 

Guid 
Id 
{ 
get 
; 
set 
; 
}  
[ 
Required 
] 
public 

string 
CompanyName 
{ 
get  #
;# $
set% (
;( )
}* +
public 

string 
? 
HomePage 
{ 
get !
;! "
set# &
;& '
}( )
public 

string 
? 
Description 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

string 
? 
ContactName 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

string 
? 
ContactTitle 
{  !
get" %
;% &
set' *
;* +
}, -
public 

string 
? 
Address 
{ 
get  
;  !
set" %
;% &
}' (
public 

string 
? 
City 
{ 
get 
; 
set "
;" #
}$ %
public 

string 
? 
Region 
{ 
get 
;  
set! $
;$ %
}& '
public   

string   
?   

PostalCode   
{   
get    #
;  # $
set  % (
;  ( )
}  * +
public"" 

string"" 
?"" 
Country"" 
{"" 
get""  
;""  !
set""" %
;""% &
}""' (
public$$ 

string$$ 
?$$ 
Phone$$ 
{$$ 
get$$ 
;$$ 
set$$  #
;$$# $
}$$% &
public&& 

string&& 
?&& 
Fax&& 
{&& 
get&& 
;&& 
set&& !
;&&! "
}&&# $
public(( 

ICollection(( 
<(( 
Game(( 
>(( 
Games(( "
{((# $
get((% (
;((( )
set((* -
;((- .
}((/ 0
})) É	
zD:\OneDrive\Dokumenty\Programowanie\EPAM\Repos\Gamestore\Gamestore.Repository\EntityConfigurations\CommentConfiguration.cs
	namespace 	
	Gamestore
 
. 
DAL 
.  
EntityConfigurations ,
;, -
internal 
class	  
CommentConfiguration #
:$ %$
IEntityTypeConfiguration& >
<> ?
Comment? F
>F G
{ 
public		 

void		 
	Configure		 
(		 
EntityTypeBuilder		 +
<		+ ,
Comment		, 3
>		3 4
builder		5 <
)		< =
{

 
builder 
. 
HasOne 
( 
x 
=> 
x 
. 
Product %
)% &
.& '
WithMany' /
(/ 0
x0 1
=>2 4
x5 6
.6 7
Comments7 ?
)? @
.@ A
OnDeleteA I
(I J
DeleteBehaviorJ X
.X Y
CascadeY `
)` a
;a b
} 
} ∆
wD:\OneDrive\Dokumenty\Programowanie\EPAM\Repos\Gamestore\Gamestore.Repository\EntityConfigurations\GameConfiguration.cs
	namespace 	
	Gamestore
 
. 
DAL 
.  
EntityConfigurations ,
;, -
internal 
class	 
GameConfiguration  
:! "$
IEntityTypeConfiguration# ;
<; <
Game< @
>@ A
{ 
public		 

void		 
	Configure		 
(		 
EntityTypeBuilder		 +
<		+ ,
Game		, 0
>		0 1
builder		2 9
)		9 :
{

 
Seed 
( 
builder 
) 
; 
} 
private 
static 
void 
Seed 
( 
EntityTypeBuilder .
<. /
Game/ 3
>3 4
builder5 <
)< =
{ 
builder 
. 
HasData 
( 
new 
Game  
(  !
)! "
{ 	
Id 
= 
Guid 
. 
NewGuid 
( 
) 
,  
Name 
= 
$str !
,! "
Description 
= 
$str $
,$ %
Key 
= 
$str 
, 
Discount 
= 
$num 
, 
Price 
= 
$num 
, 
UnitInStock 
= 
$num 
, 
PublisherId 
= 
new 
Guid "
(" #
$str# I
)I J
,J K
} 	
)	 

;
 
builder 
. 
HasData 
( 
new 
Game  
(  !
)! "
{ 	
Id 
= 
Guid 
. 
NewGuid 
( 
) 
,  
Name 
= 
$str 
,  
Description   
=   
$str   '
,  ' (
Key!! 
=!! 
$str!! 
,!! 
Discount"" 
="" 
$num"" 
,"" 
Price## 
=## 
$num## 
,## 
UnitInStock$$ 
=$$ 
$num$$ 
,$$ 
PublisherId%% 
=%% 
new%% 
Guid%% "
(%%" #
$str%%# I
)%%I J
,%%J K
}&& 	
)&&	 

;&&
 
}'' 
}(( ó	
|D:\OneDrive\Dokumenty\Programowanie\EPAM\Repos\Gamestore\Gamestore.Repository\EntityConfigurations\GameGenreConfiguration.cs
	namespace 	
	Gamestore
 
. 
DAL 
.  
EntityConfigurations ,
;, -
internal 
class	 "
GameGenreConfiguration %
:& '$
IEntityTypeConfiguration( @
<@ A

GameGenresA K
>K L
{ 
public		 

void		 
	Configure		 
(		 
EntityTypeBuilder		 +
<		+ ,

GameGenres		, 6
>		6 7
builder		8 ?
)		? @
{

 
builder 
. 
HasOne 
( 
x 
=> 
x 
. 
Product %
)% &
.& '
WithMany' /
(/ 0
x0 1
=>2 4
x5 6
.6 7
ProductCategories7 H
)H I
.I J
OnDeleteJ R
(R S
DeleteBehaviorS a
.a b
Restrictb j
)j k
;k l
} 
} ù	
D:\OneDrive\Dokumenty\Programowanie\EPAM\Repos\Gamestore\Gamestore.Repository\EntityConfigurations\GamePlatformConfiguration.cs
	namespace 	
	Gamestore
 
. 
DAL 
.  
EntityConfigurations ,
;, -
internal 
class	 %
GamePlatformConfiguration (
:) *$
IEntityTypeConfiguration+ C
<C D
GamePlatformD P
>P Q
{ 
public		 

void		 
	Configure		 
(		 
EntityTypeBuilder		 +
<		+ ,
GamePlatform		, 8
>		8 9
builder		: A
)		A B
{

 
builder 
. 
HasOne 
( 
x 
=> 
x 
. 
Game "
)" #
.# $
WithMany$ ,
(, -
x- .
=>/ 1
x2 3
.3 4
ProductPlatforms4 D
)D E
.E F
OnDeleteF N
(N O
DeleteBehaviorO ]
.] ^
Restrict^ f
)f g
;g h
} 
} ù?
xD:\OneDrive\Dokumenty\Programowanie\EPAM\Repos\Gamestore\Gamestore.Repository\EntityConfigurations\GenreConfiguration.cs
	namespace 	
	Gamestore
 
. 
DAL 
.  
EntityConfigurations ,
;, -
internal 
class	 
GenreConfiguration !
:" #$
IEntityTypeConfiguration$ <
<< =
Genre= B
>B C
{ 
public		 

void		 
	Configure		 
(		 
EntityTypeBuilder		 +
<		+ ,
Genre		, 1
>		1 2
builder		3 :
)		: ;
{

 
builder 
. 
HasMany 
( 
x 
=> 
x 
. 

GameGenres )
)) *
.* +
WithOne+ 2
(2 3
x3 4
=>5 7
x8 9
.9 :
Category: B
)B C
.C D
OnDeleteD L
(L M
DeleteBehaviorM [
.[ \
Restrict\ d
)d e
;e f
Seed 
( 
builder 
) 
; 
} 
private 
static 
void 
Seed 
( 
EntityTypeBuilder .
<. /
Genre/ 4
>4 5
builder6 =
)= >
{ 
var 
strategyGuid 
= 
Guid 
.  
NewGuid  '
(' (
)( )
;) *
builder 
. 
HasData 
( 
new 
Genre !
(! "
)" #
{$ %
Id& (
=) *
strategyGuid+ 7
,7 8
Name9 =
=> ?
$str@ J
}K L
)L M
;M N
builder 
. 
HasData 
( 
new 
Genre !
(! "
)" #
{$ %
Id& (
=) *
Guid+ /
./ 0
NewGuid0 7
(7 8
)8 9
,9 :
Name; ?
=@ A
$strB G
,G H
ParentGenreIdI V
=W X
strategyGuidY e
}f g
)g h
;h i
builder 
. 
HasData 
( 
new 
Genre !
(! "
)" #
{$ %
Id& (
=) *
Guid+ /
./ 0
NewGuid0 7
(7 8
)8 9
,9 :
Name; ?
=@ A
$strB G
,G H
ParentGenreIdI V
=W X
strategyGuidY e
}f g
)g h
;h i
builder 
. 
HasData 
( 
new 
Genre !
(! "
)" #
{$ %
Id& (
=) *
Guid+ /
./ 0
NewGuid0 7
(7 8
)8 9
,9 :
Name; ?
=@ A
$strB G
}H I
)I J
;J K
builder 
. 
HasData 
( 
new 
Genre !
(! "
)" #
{$ %
Id& (
=) *
Guid+ /
./ 0
NewGuid0 7
(7 8
)8 9
,9 :
Name; ?
=@ A
$strB J
}K L
)L M
;M N
var 
	racesGuid 
= 
Guid 
. 
NewGuid $
($ %
)% &
;& '
builder 
. 
HasData 
( 
new 
Genre !
(! "
)" #
{$ %
Id& (
=) *
	racesGuid+ 4
,4 5
Name6 :
=; <
$str= D
}E F
)F G
;G H
builder 
. 
HasData 
( 
new 
Genre !
(! "
)" #
{$ %
Id& (
=) *
Guid+ /
./ 0
NewGuid0 7
(7 8
)8 9
,9 :
Name; ?
=@ A
$strB I
,I J
ParentGenreIdK X
=Y Z
	racesGuid[ d
}e f
)f g
;g h
builder 
. 
HasData 
( 
new 
Genre !
(! "
)" #
{$ %
Id& (
=) *
Guid+ /
./ 0
NewGuid0 7
(7 8
)8 9
,9 :
Name; ?
=@ A
$strB J
,J K
ParentGenreIdL Y
=Z [
	racesGuid\ e
}f g
)g h
;h i
builder 
. 
HasData 
( 
new 
Genre !
(! "
)" #
{$ %
Id& (
=) *
Guid+ /
./ 0
NewGuid0 7
(7 8
)8 9
,9 :
Name; ?
=@ A
$strB K
,K L
ParentGenreIdM Z
=[ \
	racesGuid] f
}g h
)h i
;i j
builder 
. 
HasData 
( 
new 
Genre !
(! "
)" #
{$ %
Id& (
=) *
Guid+ /
./ 0
NewGuid0 7
(7 8
)8 9
,9 :
Name; ?
=@ A
$strB L
,L M
ParentGenreIdN [
=\ ]
	racesGuid^ g
}h i
)i j
;j k
var 

actionGuid 
= 
Guid 
. 
NewGuid %
(% &
)& '
;' (
builder 
. 
HasData 
( 
new 
Genre !
(! "
)" #
{$ %
Id& (
=) *

actionGuid+ 5
,5 6
Name7 ;
=< =
$str> F
}G H
)H I
;I J
builder 
. 
HasData 
( 
new 
Genre !
(! "
)" #
{$ %
Id& (
=) *
Guid+ /
./ 0
NewGuid0 7
(7 8
)8 9
,9 :
Name; ?
=@ A
$strB G
,G H
ParentGenreIdI V
=W X

actionGuidY c
}d e
)e f
;f g
builder   
.   
HasData   
(   
new   
Genre   !
(  ! "
)  " #
{  $ %
Id  & (
=  ) *
Guid  + /
.  / 0
NewGuid  0 7
(  7 8
)  8 9
,  9 :
Name  ; ?
=  @ A
$str  B G
,  G H
ParentGenreId  I V
=  W X

actionGuid  Y c
}  d e
)  e f
;  f g
builder!! 
.!! 
HasData!! 
(!! 
new!! 
Genre!! !
(!!! "
)!!" #
{!!$ %
Id!!& (
=!!) *
Guid!!+ /
.!!/ 0
NewGuid!!0 7
(!!7 8
)!!8 9
,!!9 :
Name!!; ?
=!!@ A
$str!!B M
}!!N O
)!!O P
;!!P Q
builder"" 
."" 
HasData"" 
("" 
new"" 
Genre"" !
(""! "
)""" #
{""$ %
Id""& (
="") *
Guid""+ /
.""/ 0
NewGuid""0 7
(""7 8
)""8 9
,""9 :
Name""; ?
=""@ A
$str""B R
}""S T
)""T U
;""U V
}## 
}$$ ¸
xD:\OneDrive\Dokumenty\Programowanie\EPAM\Repos\Gamestore\Gamestore.Repository\EntityConfigurations\OrderConfiguration.cs
	namespace 	
	Gamestore
 
. 
DAL 
.  
EntityConfigurations ,
;, -
internal 
class	 
OrderConfiguration !
:" #$
IEntityTypeConfiguration$ <
<< =
Order= B
>B C
{ 
public		 

void		 
	Configure		 
(		 
EntityTypeBuilder		 +
<		+ ,
Order		, 1
>		1 2
builder		3 :
)		: ;
{

 
builder 
. 
HasMany 
( 
x 
=> 
x 
. 

OrderGames )
)) *
.* +
WithOne+ 2
(2 3
x3 4
=>5 7
x8 9
.9 :
Order: ?
)? @
.@ A
OnDeleteA I
(I J
DeleteBehaviorJ X
.X Y
RestrictY a
)a b
;b c
} 
} ﬂ
|D:\OneDrive\Dokumenty\Programowanie\EPAM\Repos\Gamestore\Gamestore.Repository\EntityConfigurations\OrderGameConfiguration.cs
	namespace 	
	Gamestore
 
. 
DAL 
.  
EntityConfigurations ,
;, -
internal 
class	 "
OrderGameConfiguration %
:& '$
IEntityTypeConfiguration( @
<@ A
	OrderGameA J
>J K
{ 
public		 

void		 
	Configure		 
(		 
EntityTypeBuilder		 +
<		+ ,
	OrderGame		, 5
>		5 6
builder		7 >
)		> ?
{

 
builder 
. 
HasOne 
( 
x 
=> 
x 
. 
Order #
)# $
.$ %
WithMany% -
(- .
x. /
=>0 2
x3 4
.4 5

OrderGames5 ?
)? @
.@ A
OnDeleteA I
(I J
DeleteBehaviorJ X
.X Y
RestrictY a
)a b
;b c
builder 
. 
HasOne 
( 
x 
=> 
x 
. 
Game "
)" #
.# $
WithMany$ ,
(, -
x- .
=>/ 1
x2 3
.3 4
OrderProducts4 A
)A B
.B C
OnDeleteC K
(K L
DeleteBehaviorL Z
.Z [
Restrict[ c
)c d
;d e
} 
} À
{D:\OneDrive\Dokumenty\Programowanie\EPAM\Repos\Gamestore\Gamestore.Repository\EntityConfigurations\PlatformConfiguration.cs
	namespace 	
	Gamestore
 
. 
DAL 
.  
EntityConfigurations ,
;, -
internal 
class	 !
PlatformConfiguration $
:% &$
IEntityTypeConfiguration' ?
<? @
Platform@ H
>H I
{ 
public		 

void		 
	Configure		 
(		 
EntityTypeBuilder		 +
<		+ ,
Platform		, 4
>		4 5
builder		6 =
)		= >
{

 
builder 
. 
HasMany 
( 
x 
=> 
x 
. 
GamePlatforms ,
), -
.- .
WithOne. 5
(5 6
x6 7
=>8 :
x; <
.< =
Platform= E
)E F
.F G
OnDeleteG O
(O P
DeleteBehaviorP ^
.^ _
Restrict_ g
)g h
;h i
Seed 
( 
builder 
) 
; 
} 
private 
static 
void 
Seed 
( 
EntityTypeBuilder .
<. /
Platform/ 7
>7 8
builder9 @
)@ A
{ 
builder 
. 
HasData 
( 
new 
Platform $
($ %
)% &
{' (
Id) +
=, -
Guid. 2
.2 3
NewGuid3 :
(: ;
); <
,< =
Type> B
=C D
$strE M
}N O
)O P
;P Q
builder 
. 
HasData 
( 
new 
Platform $
($ %
)% &
{' (
Id) +
=, -
Guid. 2
.2 3
NewGuid3 :
(: ;
); <
,< =
Type> B
=C D
$strE N
}O P
)P Q
;Q R
builder 
. 
HasData 
( 
new 
Platform $
($ %
)% &
{' (
Id) +
=, -
Guid. 2
.2 3
NewGuid3 :
(: ;
); <
,< =
Type> B
=C D
$strE N
}O P
)P Q
;Q R
builder 
. 
HasData 
( 
new 
Platform $
($ %
)% &
{' (
Id) +
=, -
Guid. 2
.2 3
NewGuid3 :
(: ;
); <
,< =
Type> B
=C D
$strE N
}O P
)P Q
;Q R
} 
} Å
|D:\OneDrive\Dokumenty\Programowanie\EPAM\Repos\Gamestore\Gamestore.Repository\EntityConfigurations\PublisherConfiguration.cs
	namespace 	
	Gamestore
 
. 
DAL 
.  
EntityConfigurations ,
;, -
internal 
class	 "
PublisherConfiguration %
:& '$
IEntityTypeConfiguration( @
<@ A
	PublisherA J
>J K
{ 
public		 

void		 
	Configure		 
(		 
EntityTypeBuilder		 +
<		+ ,
	Publisher		, 5
>		5 6
builder		7 >
)		> ?
{

 
builder 
. 
HasMany 
( 
x 
=> 
x 
. 
Games $
)$ %
.% &
WithOne& -
(- .
x. /
=>0 2
x3 4
.4 5
	Publisher5 >
)> ?
.? @
OnDelete@ H
(H I
DeleteBehaviorI W
.W X
RestrictX `
)` a
;a b
Seed 
( 
builder 
) 
; 
} 
private 
static 
void 
Seed 
( 
EntityTypeBuilder .
<. /
	Publisher/ 8
>8 9
builder: A
)A B
{ 
builder 
. 
HasData 
( 
new 
	Publisher %
(% &
)& '
{( )
Id* ,
=- .
new/ 2
Guid3 7
(7 8
$str8 ^
)^ _
,_ `
CompanyNamea l
=m n
$str	o Ä
,
Ä Å
HomePage
Ç ä
=
ã å
$str
ç ô
}
ö õ
)
õ ú
;
ú ù
builder 
. 
HasData 
( 
new 
	Publisher %
(% &
)& '
{( )
Id* ,
=- .
new/ 2
Guid3 7
(7 8
$str8 ^
)^ _
,_ `
CompanyNamea l
=m n
$stro y
,y z
HomePage	{ É
=
Ñ Ö
$str
Ü ò
}
ô ö
)
ö õ
;
õ ú
} 
} È
bD:\OneDrive\Dokumenty\Programowanie\EPAM\Repos\Gamestore\Gamestore.Repository\Enums\OrderStatus.cs
	namespace 	
	Gamestore
 
. 
DAL 
. 
Enums 
; 
public 
enum 
OrderStatus 
{ 
Open 
, 	
Checkout 
, 
Paid 
, 	
	Cancelled 
, 
Shipped		 
,		 
}

 Á
nD:\OneDrive\Dokumenty\Programowanie\EPAM\Repos\Gamestore\Gamestore.Repository\Interfaces\ICommentRepository.cs
	namespace 	
	Gamestore
 
. 
DAL 
. 

Interfaces "
;" #
public 
	interface 
ICommentRepository #
:$ %
IRepository& 1
<1 2
Comment2 9
>9 :
,: ;
IRepositoryBase< K
<K L
CommentL S
>S T
{ 
Task 
< 	
List	 
< 
Comment 
> 
> 
GetByGameKeyAsync )
() *
string* 0
key1 4
)4 5
;5 6
Task		 
<		 	
List			 
<		 
Comment		 
>		 
>		 ,
 GetChildCommentsByCommentIdAsync		 8
(		8 9
Guid		9 =
id		> @
)		@ A
;		A B
}

 †
pD:\OneDrive\Dokumenty\Programowanie\EPAM\Repos\Gamestore\Gamestore.Repository\Interfaces\IGameGenreRepository.cs
	namespace 	
	Gamestore
 
. 
DAL 
. 

Interfaces "
;" #
public 
	interface  
IGameGenreRepository %
:& '
IRepositoryBase( 7
<7 8

GameGenres8 B
>B C
{ 
Task 
< 	
List	 
< 

GameGenres 
> 
> 
GetByGameIdAsync +
(+ ,
Guid, 0
id1 3
)3 4
;4 5
} ™
sD:\OneDrive\Dokumenty\Programowanie\EPAM\Repos\Gamestore\Gamestore.Repository\Interfaces\IGamePlatformRepository.cs
	namespace 	
	Gamestore
 
. 
DAL 
. 

Interfaces "
;" #
public 
	interface #
IGamePlatformRepository (
:) *
IRepositoryBase+ :
<: ;
GamePlatform; G
>G H
{ 
Task 
< 	
List	 
< 
GamePlatform 
> 
> 
GetByGameIdAsync -
(- .
Guid. 2
id3 5
)5 6
;6 7
} ÷
kD:\OneDrive\Dokumenty\Programowanie\EPAM\Repos\Gamestore\Gamestore.Repository\Interfaces\IGameRepository.cs
	namespace 	
	Gamestore
 
. 
DAL 
. 

Interfaces "
;" #
public 
	interface 
IGameRepository  
:! "
IRepository# .
<. /
Game/ 3
>3 4
,4 5
IRepositoryBase6 E
<E F
GameF J
>J K
{ 
Task 
< 	
List	 
< 
Game 
> 
> "
GetAllWithDeletedAsync +
(+ ,
), -
;- .
Task		 
<		 	
Game			 
?		 
>		 
GetGameByKeyAsync		 !
(		! "
string		" (
key		) ,
)		, -
;		- .

IQueryable 
< 
Game 
> 
GetGamesAsQueryable (
(( )
)) *
;* +

IQueryable 
< 
Game 
> *
GetGamesWithDeletedAsQueryable 3
(3 4
)4 5
;5 6
Task 
< 	
List	 
< 
Genre 
> 
>  
GetGenresByGameAsync *
(* +
Guid+ /
id0 2
)2 3
;3 4
Task 
< 	
List	 
< 
Platform 
> 
> #
GetPlatformsByGameAsync 0
(0 1
Guid1 5
id6 8
)8 9
;9 :
Task 
< 	
	Publisher	 
? 
> #
GetPublisherByGameAsync ,
(, -
Guid- 1
gameId2 8
)8 9
;9 :
Task 

SoftDelete	 
( 
Game 
game 
) 
; 
} ’
lD:\OneDrive\Dokumenty\Programowanie\EPAM\Repos\Gamestore\Gamestore.Repository\Interfaces\IGenreRepository.cs
	namespace 	
	Gamestore
 
. 
DAL 
. 

Interfaces "
;" #
public 
	interface 
IGenreRepository !
:" #
IRepository$ /
</ 0
Genre0 5
>5 6
,6 7
IRepositoryBase8 G
<G H
GenreH M
>M N
{ 
Task 
< 	
List	 
< 
Game 
> 
>  
GetGamesByGenreAsync )
() *
Guid* .
id/ 1
)1 2
;2 3
Task		 
<		 	
List			 
<		 
Genre		 
>		 
>		 '
GetGenresByParentGenreAsync		 1
(		1 2
Guid		2 6
id		7 9
)		9 :
;		: ;
}

 â
pD:\OneDrive\Dokumenty\Programowanie\EPAM\Repos\Gamestore\Gamestore.Repository\Interfaces\IOrderGameRepository.cs
	namespace 	
	Gamestore
 
. 
DAL 
. 

Interfaces "
;" #
public 
	interface  
IOrderGameRepository %
:& '
IRepository( 3
<3 4
	OrderGame4 =
>= >
,> ?
IRepositoryBase@ O
<O P
	OrderGameP Y
>Y Z
{ 
Task 
< 	
	OrderGame	 
? 
> )
GetByOrderIdAndProductIdAsync 2
(2 3
Guid3 7
orderId8 ?
,? @
GuidA E
	productIdF O
)O P
;P Q
Task		 
<		 	
List			 
<		 
	OrderGame		 
>		 
>		 
GetByOrderIdAsync		 +
(		+ ,
Guid		, 0
id		1 3
)		3 4
;		4 5
}

 ∏	
lD:\OneDrive\Dokumenty\Programowanie\EPAM\Repos\Gamestore\Gamestore.Repository\Interfaces\IOrderRepository.cs
	namespace 	
	Gamestore
 
. 
DAL 
. 

Interfaces "
;" #
public 
	interface 
IOrderRepository !
:" #
IRepository$ /
</ 0
Order0 5
>5 6
,6 7
IRepositoryBase8 G
<G H
OrderH M
>M N
{ 
Task 
< 	
Order	 
? 
>  
GetByCustomerIdAsync %
(% &
Guid& *
id+ -
)- .
;. /
Task		 
<		 	
List			 
<		 
Order		 
>		 
>		 %
GetOrdersByDateRangeAsync		 /
(		/ 0
DateTime		0 8
startD		9 ?
,		? @
DateTime		A I
endD		J N
)		N O
;		O P
Task 
< 	
Order	 
? 
> #
GetWithDetailsByIdAsync (
(( )
Guid) -
id. 0
)0 1
;1 2
} Ω
oD:\OneDrive\Dokumenty\Programowanie\EPAM\Repos\Gamestore\Gamestore.Repository\Interfaces\IPlatformRepository.cs
	namespace 	
	Gamestore
 
. 
DAL 
. 

Interfaces "
;" #
public 
	interface 
IPlatformRepository $
:% &
IRepository' 2
<2 3
Platform3 ;
>; <
,< =
IRepositoryBase> M
<M N
PlatformN V
>V W
{ 
Task 
< 	
Platform	 
? 
> 
GetByTypeAsync "
(" #
string# )
type* .
). /
;/ 0
Task		 
<		 	
List			 
<		 
Game		 
>		 
>		 #
GetGamesByPlatformAsync		 ,
(		, -
Guid		- 1
id		2 4
)		4 5
;		5 6
}

 ¬	
pD:\OneDrive\Dokumenty\Programowanie\EPAM\Repos\Gamestore\Gamestore.Repository\Interfaces\IPublisherRepository.cs
	namespace 	
	Gamestore
 
. 
DAL 
. 

Interfaces "
;" #
public 
	interface  
IPublisherRepository %
:& '
IRepository( 3
<3 4
	Publisher4 =
>= >
,> ?
IRepositoryBase@ O
<O P
	PublisherP Y
>Y Z
{ 
Task 
< 	
	Publisher	 
? 
> !
GetByCompanyNameAsync *
(* +
string+ 1
companyName2 =
)= >
;> ?
Task		 
<		 	
List			 
<		 
Game		 
>		 
>		 &
GetGamesByPublisherIdAsync		 /
(		/ 0
Guid		0 4
id		5 7
)		7 8
;		8 9
Task 
< 	
List	 
< 
Game 
> 
> (
GetGamesByPublisherNameAsync 1
(1 2
string2 8
name9 =
)= >
;> ?
} ¶
gD:\OneDrive\Dokumenty\Programowanie\EPAM\Repos\Gamestore\Gamestore.Repository\Interfaces\IRepository.cs
	namespace 	
	Gamestore
 
. 
DAL 
. 

Interfaces "
;" #
public 
	interface 
IRepository 
< 
T 
> 
{ 
Task 
< 	
T	 

?
 
> 
GetByIdAsync 
( 
Guid 
id !
)! "
;" #
Task 
UpdateAsync	 
( 
T 
entity 
) 
; 
} Ã
kD:\OneDrive\Dokumenty\Programowanie\EPAM\Repos\Gamestore\Gamestore.Repository\Interfaces\IRepositoryBase.cs
	namespace 	
	Gamestore
 
. 
DAL 
. 

Interfaces "
;" #
public 
	interface 
IRepositoryBase  
<  !
T! "
>" #
{ 
Task 
< 	
T	 

>
 
AddAsync 
( 
T 
entity 
) 
; 
void 
Delete	 
( 
T 
entity 
) 
; 
Task		 
<		 	
List			 
<		 
T		 
>		 
>		 
GetAllAsync		 
(		 
)		 
;		  
}

 å
gD:\OneDrive\Dokumenty\Programowanie\EPAM\Repos\Gamestore\Gamestore.Repository\Interfaces\IUnitOfWork.cs
	namespace 	
	Gamestore
 
. 
DAL 
. 

Interfaces "
;" #
public 
	interface 
IUnitOfWork 
{ 
IGameRepository 
GameRepository "
{# $
get% (
;( )
}* +
IPlatformRepository 
PlatformRepository *
{+ ,
get- 0
;0 1
}2 3
IGenreRepository		 
GenreRepository		 $
{		% &
get		' *
;		* +
}		, - 
IGameGenreRepository 
GameGenreRepository ,
{- .
get/ 2
;2 3
}4 5#
IGamePlatformRepository "
GamePlatformRepository 2
{3 4
get5 8
;8 9
}: ; 
IPublisherRepository 
PublisherRepository ,
{- .
get/ 2
;2 3
}4 5
IOrderRepository 
OrderRepository $
{% &
get' *
;* +
}, - 
IOrderGameRepository 
OrderGameRepository ,
{- .
get/ 2
;2 3
}4 5
ICommentRepository 
CommentRepository (
{) *
get+ .
;. /
}0 1
Task 
	SaveAsync	 
( 
) 
; 
} ÆÅ
xD:\OneDrive\Dokumenty\Programowanie\EPAM\Repos\Gamestore\Gamestore.Repository\Migrations\20240617150445_InitialCreate.cs
	namespace 	
	Gamestore
 
. 
DAL 
. 

Migrations "
{ 
public 

partial 
class 
InitialCreate &
:' (
	Migration) 2
{ 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str 
, 
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
Guid& *
>* +
(+ ,
type, 0
:0 1
$str2 D
,D E
nullableF N
:N O
falseP U
)U V
,V W
Name 
= 
table  
.  !
Column! '
<' (
string( .
>. /
(/ 0
type0 4
:4 5
$str6 E
,E F
nullableG O
:O P
falseQ V
)V W
,W X
ParentGenreId !
=" #
table$ )
.) *
Column* 0
<0 1
Guid1 5
>5 6
(6 7
type7 ;
:; <
$str= O
,O P
nullableQ Y
:Y Z
true[ _
)_ `
}   
,   
constraints!! 
:!! 
table!! "
=>!!# %
{"" 
table## 
.## 

PrimaryKey## $
(##$ %
$str##% 0
,##0 1
x##2 3
=>##4 6
x##7 8
.##8 9
Id##9 ;
)##; <
;##< =
}$$ 
)$$ 
;$$ 
migrationBuilder&& 
.&& 
CreateTable&& (
(&&( )
name'' 
:'' 
$str'' 
,'' 
columns(( 
:(( 
table(( 
=>(( !
new((" %
{)) 
Id** 
=** 
table** 
.** 
Column** %
<**% &
Guid**& *
>*** +
(**+ ,
type**, 0
:**0 1
$str**2 D
,**D E
nullable**F N
:**N O
false**P U
)**U V
,**V W

CustomerId++ 
=++  
table++! &
.++& '
Column++' -
<++- .
Guid++. 2
>++2 3
(++3 4
type++4 8
:++8 9
$str++: L
,++L M
nullable++N V
:++V W
false++X ]
)++] ^
,++^ _
Status,, 
=,, 
table,, "
.,," #
Column,,# )
<,,) *
int,,* -
>,,- .
(,,. /
type,,/ 3
:,,3 4
$str,,5 :
,,,: ;
nullable,,< D
:,,D E
false,,F K
),,K L
,,,L M
Date-- 
=-- 
table--  
.--  !
Column--! '
<--' (
DateTime--( 0
>--0 1
(--1 2
type--2 6
:--6 7
$str--8 C
,--C D
nullable--E M
:--M N
false--O T
)--T U
}.. 
,.. 
constraints// 
:// 
table// "
=>//# %
{00 
table11 
.11 

PrimaryKey11 $
(11$ %
$str11% 0
,110 1
x112 3
=>114 6
x117 8
.118 9
Id119 ;
)11; <
;11< =
}22 
)22 
;22 
migrationBuilder44 
.44 
CreateTable44 (
(44( )
name55 
:55 
$str55 !
,55! "
columns66 
:66 
table66 
=>66 !
new66" %
{77 
Id88 
=88 
table88 
.88 
Column88 %
<88% &
Guid88& *
>88* +
(88+ ,
type88, 0
:880 1
$str882 D
,88D E
nullable88F N
:88N O
false88P U
)88U V
,88V W
Type99 
=99 
table99  
.99  !
Column99! '
<99' (
string99( .
>99. /
(99/ 0
type990 4
:994 5
$str996 E
,99E F
nullable99G O
:99O P
false99Q V
)99V W
}:: 
,:: 
constraints;; 
:;; 
table;; "
=>;;# %
{<< 
table== 
.== 

PrimaryKey== $
(==$ %
$str==% 3
,==3 4
x==5 6
=>==7 9
x==: ;
.==; <
Id==< >
)==> ?
;==? @
}>> 
)>> 
;>> 
migrationBuilder@@ 
.@@ 
CreateTable@@ (
(@@( )
nameAA 
:AA 
$strAA "
,AA" #
columnsBB 
:BB 
tableBB 
=>BB !
newBB" %
{CC 
IdDD 
=DD 
tableDD 
.DD 
ColumnDD %
<DD% &
GuidDD& *
>DD* +
(DD+ ,
typeDD, 0
:DD0 1
$strDD2 D
,DDD E
nullableDDF N
:DDN O
falseDDP U
)DDU V
,DDV W
CompanyNameEE 
=EE  !
tableEE" '
.EE' (
ColumnEE( .
<EE. /
stringEE/ 5
>EE5 6
(EE6 7
typeEE7 ;
:EE; <
$strEE= L
,EEL M
nullableEEN V
:EEV W
falseEEX ]
)EE] ^
,EE^ _
HomePageFF 
=FF 
tableFF $
.FF$ %
ColumnFF% +
<FF+ ,
stringFF, 2
>FF2 3
(FF3 4
typeFF4 8
:FF8 9
$strFF: I
,FFI J
nullableFFK S
:FFS T
trueFFU Y
)FFY Z
,FFZ [
DescriptionGG 
=GG  !
tableGG" '
.GG' (
ColumnGG( .
<GG. /
stringGG/ 5
>GG5 6
(GG6 7
typeGG7 ;
:GG; <
$strGG= L
,GGL M
nullableGGN V
:GGV W
trueGGX \
)GG\ ]
}HH 
,HH 
constraintsII 
:II 
tableII "
=>II# %
{JJ 
tableKK 
.KK 

PrimaryKeyKK $
(KK$ %
$strKK% 4
,KK4 5
xKK6 7
=>KK8 :
xKK; <
.KK< =
IdKK= ?
)KK? @
;KK@ A
}LL 
)LL 
;LL 
migrationBuilderNN 
.NN 
CreateTableNN (
(NN( )
nameOO 
:OO 
$strOO 
,OO 
columnsPP 
:PP 
tablePP 
=>PP !
newPP" %
{QQ 
IdRR 
=RR 
tableRR 
.RR 
ColumnRR %
<RR% &
GuidRR& *
>RR* +
(RR+ ,
typeRR, 0
:RR0 1
$strRR2 D
,RRD E
nullableRRF N
:RRN O
falseRRP U
)RRU V
,RRV W
NameSS 
=SS 
tableSS  
.SS  !
ColumnSS! '
<SS' (
stringSS( .
>SS. /
(SS/ 0
typeSS0 4
:SS4 5
$strSS6 E
,SSE F
nullableSSG O
:SSO P
falseSSQ V
)SSV W
,SSW X
KeyTT 
=TT 
tableTT 
.TT  
ColumnTT  &
<TT& '
stringTT' -
>TT- .
(TT. /
typeTT/ 3
:TT3 4
$strTT5 D
,TTD E
nullableTTF N
:TTN O
falseTTP U
)TTU V
,TTV W
PriceUU 
=UU 
tableUU !
.UU! "
ColumnUU" (
<UU( )
doubleUU) /
>UU/ 0
(UU0 1
typeUU1 5
:UU5 6
$strUU7 >
,UU> ?
nullableUU@ H
:UUH I
falseUUJ O
)UUO P
,UUP Q
UnitInStockVV 
=VV  !
tableVV" '
.VV' (
ColumnVV( .
<VV. /
intVV/ 2
>VV2 3
(VV3 4
typeVV4 8
:VV8 9
$strVV: ?
,VV? @
nullableVVA I
:VVI J
falseVVK P
)VVP Q
,VVQ R
DiscountWW 
=WW 
tableWW $
.WW$ %
ColumnWW% +
<WW+ ,
intWW, /
>WW/ 0
(WW0 1
typeWW1 5
:WW5 6
$strWW7 <
,WW< =
nullableWW> F
:WWF G
falseWWH M
)WWM N
,WWN O
PublisherIdXX 
=XX  !
tableXX" '
.XX' (
ColumnXX( .
<XX. /
GuidXX/ 3
>XX3 4
(XX4 5
typeXX5 9
:XX9 :
$strXX; M
,XXM N
nullableXXO W
:XXW X
falseXXY ^
)XX^ _
,XX_ `
DescriptionYY 
=YY  !
tableYY" '
.YY' (
ColumnYY( .
<YY. /
stringYY/ 5
>YY5 6
(YY6 7
typeYY7 ;
:YY; <
$strYY= L
,YYL M
nullableYYN V
:YYV W
trueYYX \
)YY\ ]
}ZZ 
,ZZ 
constraints[[ 
:[[ 
table[[ "
=>[[# %
{\\ 
table]] 
.]] 

PrimaryKey]] $
(]]$ %
$str]]% /
,]]/ 0
x]]1 2
=>]]3 5
x]]6 7
.]]7 8
Id]]8 :
)]]: ;
;]]; <
table^^ 
.^^ 

ForeignKey^^ $
(^^$ %
name__ 
:__ 
$str__ ?
,__? @
column`` 
:`` 
x``  !
=>``" $
x``% &
.``& '
PublisherId``' 2
,``2 3
principalTableaa &
:aa& '
$straa( 4
,aa4 5
principalColumnbb '
:bb' (
$strbb) -
,bb- .
onDeletecc  
:cc  !
ReferentialActioncc" 3
.cc3 4
Restrictcc4 <
)cc< =
;cc= >
}dd 
)dd 
;dd 
migrationBuilderff 
.ff 
CreateTableff (
(ff( )
namegg 
:gg 
$strgg "
,gg" #
columnshh 
:hh 
tablehh 
=>hh !
newhh" %
{ii 
GameIdjj 
=jj 
tablejj "
.jj" #
Columnjj# )
<jj) *
Guidjj* .
>jj. /
(jj/ 0
typejj0 4
:jj4 5
$strjj6 H
,jjH I
nullablejjJ R
:jjR S
falsejjT Y
)jjY Z
,jjZ [
GenreIdkk 
=kk 
tablekk #
.kk# $
Columnkk$ *
<kk* +
Guidkk+ /
>kk/ 0
(kk0 1
typekk1 5
:kk5 6
$strkk7 I
,kkI J
nullablekkK S
:kkS T
falsekkU Z
)kkZ [
}ll 
,ll 
constraintsmm 
:mm 
tablemm "
=>mm# %
{nn 
tableoo 
.oo 

PrimaryKeyoo $
(oo$ %
$stroo% 4
,oo4 5
xoo6 7
=>oo8 :
newoo; >
{oo? @
xooA B
.ooB C
GameIdooC I
,ooI J
xooK L
.ooL M
GenreIdooM T
}ooU V
)ooV W
;ooW X
tablepp 
.pp 

ForeignKeypp $
(pp$ %
nameqq 
:qq 
$strqq :
,qq: ;
columnrr 
:rr 
xrr  !
=>rr" $
xrr% &
.rr& '
GameIdrr' -
,rr- .
principalTabless &
:ss& '
$strss( /
,ss/ 0
principalColumntt '
:tt' (
$strtt) -
,tt- .
onDeleteuu  
:uu  !
ReferentialActionuu" 3
.uu3 4
Restrictuu4 <
)uu< =
;uu= >
tablevv 
.vv 

ForeignKeyvv $
(vv$ %
nameww 
:ww 
$strww <
,ww< =
columnxx 
:xx 
xxx  !
=>xx" $
xxx% &
.xx& '
GenreIdxx' .
,xx. /
principalTableyy &
:yy& '
$stryy( 0
,yy0 1
principalColumnzz '
:zz' (
$strzz) -
,zz- .
onDelete{{  
:{{  !
ReferentialAction{{" 3
.{{3 4
Restrict{{4 <
){{< =
;{{= >
}|| 
)|| 
;|| 
migrationBuilder~~ 
.~~ 
CreateTable~~ (
(~~( )
name 
: 
$str %
,% &
columns
ÄÄ 
:
ÄÄ 
table
ÄÄ 
=>
ÄÄ !
new
ÄÄ" %
{
ÅÅ 
GameId
ÇÇ 
=
ÇÇ 
table
ÇÇ "
.
ÇÇ" #
Column
ÇÇ# )
<
ÇÇ) *
Guid
ÇÇ* .
>
ÇÇ. /
(
ÇÇ/ 0
type
ÇÇ0 4
:
ÇÇ4 5
$str
ÇÇ6 H
,
ÇÇH I
nullable
ÇÇJ R
:
ÇÇR S
false
ÇÇT Y
)
ÇÇY Z
,
ÇÇZ [

PlatformId
ÉÉ 
=
ÉÉ  
table
ÉÉ! &
.
ÉÉ& '
Column
ÉÉ' -
<
ÉÉ- .
Guid
ÉÉ. 2
>
ÉÉ2 3
(
ÉÉ3 4
type
ÉÉ4 8
:
ÉÉ8 9
$str
ÉÉ: L
,
ÉÉL M
nullable
ÉÉN V
:
ÉÉV W
false
ÉÉX ]
)
ÉÉ] ^
}
ÑÑ 
,
ÑÑ 
constraints
ÖÖ 
:
ÖÖ 
table
ÖÖ "
=>
ÖÖ# %
{
ÜÜ 
table
áá 
.
áá 

PrimaryKey
áá $
(
áá$ %
$str
áá% 7
,
áá7 8
x
áá9 :
=>
áá; =
new
áá> A
{
ááB C
x
ááD E
.
ááE F
GameId
ááF L
,
ááL M
x
ááN O
.
ááO P

PlatformId
ááP Z
}
áá[ \
)
áá\ ]
;
áá] ^
table
àà 
.
àà 

ForeignKey
àà $
(
àà$ %
name
ââ 
:
ââ 
$str
ââ =
,
ââ= >
column
ää 
:
ää 
x
ää  !
=>
ää" $
x
ää% &
.
ää& '
GameId
ää' -
,
ää- .
principalTable
ãã &
:
ãã& '
$str
ãã( /
,
ãã/ 0
principalColumn
åå '
:
åå' (
$str
åå) -
,
åå- .
onDelete
çç  
:
çç  !
ReferentialAction
çç" 3
.
çç3 4
Restrict
çç4 <
)
çç< =
;
çç= >
table
éé 
.
éé 

ForeignKey
éé $
(
éé$ %
name
èè 
:
èè 
$str
èè E
,
èèE F
column
êê 
:
êê 
x
êê  !
=>
êê" $
x
êê% &
.
êê& '

PlatformId
êê' 1
,
êê1 2
principalTable
ëë &
:
ëë& '
$str
ëë( 3
,
ëë3 4
principalColumn
íí '
:
íí' (
$str
íí) -
,
íí- .
onDelete
ìì  
:
ìì  !
ReferentialAction
ìì" 3
.
ìì3 4
Restrict
ìì4 <
)
ìì< =
;
ìì= >
}
îî 
)
îî 
;
îî 
migrationBuilder
ññ 
.
ññ 
CreateTable
ññ (
(
ññ( )
name
óó 
:
óó 
$str
óó "
,
óó" #
columns
òò 
:
òò 
table
òò 
=>
òò !
new
òò" %
{
ôô 
OrderId
öö 
=
öö 
table
öö #
.
öö# $
Column
öö$ *
<
öö* +
Guid
öö+ /
>
öö/ 0
(
öö0 1
type
öö1 5
:
öö5 6
$str
öö7 I
,
ööI J
nullable
ööK S
:
ööS T
false
ööU Z
)
ööZ [
,
öö[ \
	ProductId
õõ 
=
õõ 
table
õõ  %
.
õõ% &
Column
õõ& ,
<
õõ, -
Guid
õõ- 1
>
õõ1 2
(
õõ2 3
type
õõ3 7
:
õõ7 8
$str
õõ9 K
,
õõK L
nullable
õõM U
:
õõU V
false
õõW \
)
õõ\ ]
,
õõ] ^
Price
úú 
=
úú 
table
úú !
.
úú! "
Column
úú" (
<
úú( )
double
úú) /
>
úú/ 0
(
úú0 1
type
úú1 5
:
úú5 6
$str
úú7 >
,
úú> ?
nullable
úú@ H
:
úúH I
false
úúJ O
)
úúO P
,
úúP Q
Quantity
ùù 
=
ùù 
table
ùù $
.
ùù$ %
Column
ùù% +
<
ùù+ ,
int
ùù, /
>
ùù/ 0
(
ùù0 1
type
ùù1 5
:
ùù5 6
$str
ùù7 <
,
ùù< =
nullable
ùù> F
:
ùùF G
false
ùùH M
)
ùùM N
,
ùùN O
Discount
ûû 
=
ûû 
table
ûû $
.
ûû$ %
Column
ûû% +
<
ûû+ ,
int
ûû, /
>
ûû/ 0
(
ûû0 1
type
ûû1 5
:
ûû5 6
$str
ûû7 <
,
ûû< =
nullable
ûû> F
:
ûûF G
true
ûûH L
)
ûûL M
}
üü 
,
üü 
constraints
†† 
:
†† 
table
†† "
=>
††# %
{
°° 
table
¢¢ 
.
¢¢ 

PrimaryKey
¢¢ $
(
¢¢$ %
$str
¢¢% 4
,
¢¢4 5
x
¢¢6 7
=>
¢¢8 :
new
¢¢; >
{
¢¢? @
x
¢¢A B
.
¢¢B C
OrderId
¢¢C J
,
¢¢J K
x
¢¢L M
.
¢¢M N
	ProductId
¢¢N W
}
¢¢X Y
)
¢¢Y Z
;
¢¢Z [
table
££ 
.
££ 

ForeignKey
££ $
(
££$ %
name
§§ 
:
§§ 
$str
§§ =
,
§§= >
column
•• 
:
•• 
x
••  !
=>
••" $
x
••% &
.
••& '
	ProductId
••' 0
,
••0 1
principalTable
¶¶ &
:
¶¶& '
$str
¶¶( /
,
¶¶/ 0
principalColumn
ßß '
:
ßß' (
$str
ßß) -
,
ßß- .
onDelete
®®  
:
®®  !
ReferentialAction
®®" 3
.
®®3 4
Restrict
®®4 <
)
®®< =
;
®®= >
table
©© 
.
©© 

ForeignKey
©© $
(
©©$ %
name
™™ 
:
™™ 
$str
™™ <
,
™™< =
column
´´ 
:
´´ 
x
´´  !
=>
´´" $
x
´´% &
.
´´& '
OrderId
´´' .
,
´´. /
principalTable
¨¨ &
:
¨¨& '
$str
¨¨( 0
,
¨¨0 1
principalColumn
≠≠ '
:
≠≠' (
$str
≠≠) -
,
≠≠- .
onDelete
ÆÆ  
:
ÆÆ  !
ReferentialAction
ÆÆ" 3
.
ÆÆ3 4
Restrict
ÆÆ4 <
)
ÆÆ< =
;
ÆÆ= >
}
ØØ 
)
ØØ 
;
ØØ 
migrationBuilder
±± 
.
±± 

InsertData
±± '
(
±±' (
table
≤≤ 
:
≤≤ 
$str
≤≤ 
,
≤≤  
columns
≥≥ 
:
≥≥ 
new
≥≥ 
[
≥≥ 
]
≥≥ 
{
≥≥  
$str
≥≥! %
,
≥≥% &
$str
≥≥' -
,
≥≥- .
$str
≥≥/ >
}
≥≥? @
,
≥≥@ A
values
¥¥ 
:
¥¥ 
new
¥¥ 
object
¥¥ "
[
¥¥" #
,
¥¥# $
]
¥¥$ %
{
µµ 
{
∂∂ 
new
∂∂ 
Guid
∂∂ 
(
∂∂ 
$str
∂∂ E
)
∂∂E F
,
∂∂F G
$str
∂∂H R
,
∂∂R S
null
∂∂T X
}
∂∂Y Z
,
∂∂Z [
{
∑∑ 
new
∑∑ 
Guid
∑∑ 
(
∑∑ 
$str
∑∑ E
)
∑∑E F
,
∑∑F G
$str
∑∑H P
,
∑∑P Q
null
∑∑R V
}
∑∑W X
,
∑∑X Y
{
∏∏ 
new
∏∏ 
Guid
∏∏ 
(
∏∏ 
$str
∏∏ E
)
∏∏E F
,
∏∏F G
$str
∏∏H X
,
∏∏X Y
null
∏∏Z ^
}
∏∏_ `
,
∏∏` a
{
ππ 
new
ππ 
Guid
ππ 
(
ππ 
$str
ππ E
)
ππE F
,
ππF G
$str
ππH M
,
ππM N
new
ππO R
Guid
ππS W
(
ππW X
$str
ππX ~
)
ππ~ 
}ππÄ Å
,ππÅ Ç
{
∫∫ 
new
∫∫ 
Guid
∫∫ 
(
∫∫ 
$str
∫∫ E
)
∫∫E F
,
∫∫F G
$str
∫∫H M
,
∫∫M N
null
∫∫O S
}
∫∫T U
,
∫∫U V
{
ªª 
new
ªª 
Guid
ªª 
(
ªª 
$str
ªª E
)
ªªE F
,
ªªF G
$str
ªªH S
,
ªªS T
null
ªªU Y
}
ªªZ [
,
ªª[ \
{
ºº 
new
ºº 
Guid
ºº 
(
ºº 
$str
ºº E
)
ººE F
,
ººF G
$str
ººH M
,
ººM N
new
ººO R
Guid
ººS W
(
ººW X
$str
ººX ~
)
ºº~ 
}ººÄ Å
,ººÅ Ç
{
ΩΩ 
new
ΩΩ 
Guid
ΩΩ 
(
ΩΩ 
$str
ΩΩ E
)
ΩΩE F
,
ΩΩF G
$str
ΩΩH O
,
ΩΩO P
new
ΩΩQ T
Guid
ΩΩU Y
(
ΩΩY Z
$strΩΩZ Ä
)ΩΩÄ Å
}ΩΩÇ É
,ΩΩÉ Ñ
{
ææ 
new
ææ 
Guid
ææ 
(
ææ 
$str
ææ E
)
ææE F
,
ææF G
$str
ææH R
,
ææR S
new
ææT W
Guid
ææX \
(
ææ\ ]
$strææ] É
)ææÉ Ñ
}ææÖ Ü
,ææÜ á
{
øø 
new
øø 
Guid
øø 
(
øø 
$str
øø E
)
øøE F
,
øøF G
$str
øøH O
,
øøO P
null
øøQ U
}
øøV W
,
øøW X
{
¿¿ 
new
¿¿ 
Guid
¿¿ 
(
¿¿ 
$str
¿¿ E
)
¿¿E F
,
¿¿F G
$str
¿¿H M
,
¿¿M N
new
¿¿O R
Guid
¿¿S W
(
¿¿W X
$str
¿¿X ~
)
¿¿~ 
}¿¿Ä Å
,¿¿Å Ç
{
¡¡ 
new
¡¡ 
Guid
¡¡ 
(
¡¡ 
$str
¡¡ E
)
¡¡E F
,
¡¡F G
$str
¡¡H Q
,
¡¡Q R
new
¡¡S V
Guid
¡¡W [
(
¡¡[ \
$str¡¡\ Ç
)¡¡Ç É
}¡¡Ñ Ö
,¡¡Ö Ü
{
¬¬ 
new
¬¬ 
Guid
¬¬ 
(
¬¬ 
$str
¬¬ E
)
¬¬E F
,
¬¬F G
$str
¬¬H M
,
¬¬M N
new
¬¬O R
Guid
¬¬S W
(
¬¬W X
$str
¬¬X ~
)
¬¬~ 
}¬¬Ä Å
,¬¬Å Ç
{
√√ 
new
√√ 
Guid
√√ 
(
√√ 
$str
√√ E
)
√√E F
,
√√F G
$str
√√H P
,
√√P Q
null
√√R V
}
√√W X
,
√√X Y
{
ƒƒ 
new
ƒƒ 
Guid
ƒƒ 
(
ƒƒ 
$str
ƒƒ E
)
ƒƒE F
,
ƒƒF G
$str
ƒƒH P
,
ƒƒP Q
new
ƒƒR U
Guid
ƒƒV Z
(
ƒƒZ [
$strƒƒ[ Å
)ƒƒÅ Ç
}ƒƒÉ Ñ
}
≈≈ 
)
≈≈ 
;
≈≈ 
migrationBuilder
«« 
.
«« 

InsertData
«« '
(
««' (
table
»» 
:
»» 
$str
»» "
,
»»" #
columns
…… 
:
…… 
new
…… 
[
…… 
]
…… 
{
……  
$str
……! %
,
……% &
$str
……' -
}
……. /
,
……/ 0
values
   
:
   
new
   
object
   "
[
  " #
,
  # $
]
  $ %
{
ÀÀ 
{
ÃÃ 
new
ÃÃ 
Guid
ÃÃ 
(
ÃÃ 
$str
ÃÃ E
)
ÃÃE F
,
ÃÃF G
$str
ÃÃH P
}
ÃÃQ R
,
ÃÃR S
{
ÕÕ 
new
ÕÕ 
Guid
ÕÕ 
(
ÕÕ 
$str
ÕÕ E
)
ÕÕE F
,
ÕÕF G
$str
ÕÕH Q
}
ÕÕR S
,
ÕÕS T
{
ŒŒ 
new
ŒŒ 
Guid
ŒŒ 
(
ŒŒ 
$str
ŒŒ E
)
ŒŒE F
,
ŒŒF G
$str
ŒŒH Q
}
ŒŒR S
,
ŒŒS T
{
œœ 
new
œœ 
Guid
œœ 
(
œœ 
$str
œœ E
)
œœE F
,
œœF G
$str
œœH Q
}
œœR S
}
–– 
)
–– 
;
–– 
migrationBuilder
““ 
.
““ 

InsertData
““ '
(
““' (
table
”” 
:
”” 
$str
”” #
,
””# $
columns
‘‘ 
:
‘‘ 
new
‘‘ 
[
‘‘ 
]
‘‘ 
{
‘‘  
$str
‘‘! %
,
‘‘% &
$str
‘‘' 4
,
‘‘4 5
$str
‘‘6 C
,
‘‘C D
$str
‘‘E O
}
‘‘P Q
,
‘‘Q R
values
’’ 
:
’’ 
new
’’ 
object
’’ "
[
’’" #
,
’’# $
]
’’$ %
{
÷÷ 
{
◊◊ 
new
◊◊ 
Guid
◊◊ 
(
◊◊ 
$str
◊◊ E
)
◊◊E F
,
◊◊F G
$str
◊◊H R
,
◊◊R S
null
◊◊T X
,
◊◊X Y
$str
◊◊Z l
}
◊◊m n
,
◊◊n o
{
ÿÿ 
new
ÿÿ 
Guid
ÿÿ 
(
ÿÿ 
$str
ÿÿ E
)
ÿÿE F
,
ÿÿF G
$str
ÿÿH Y
,
ÿÿY Z
null
ÿÿ[ _
,
ÿÿ_ `
$str
ÿÿa m
}
ÿÿn o
}
ŸŸ 
)
ŸŸ 
;
ŸŸ 
migrationBuilder
€€ 
.
€€ 

InsertData
€€ '
(
€€' (
table
‹‹ 
:
‹‹ 
$str
‹‹ 
,
‹‹ 
columns
›› 
:
›› 
new
›› 
[
›› 
]
›› 
{
››  
$str
››! %
,
››% &
$str
››' 4
,
››4 5
$str
››6 @
,
››@ A
$str
››B G
,
››G H
$str
››I O
,
››O P
$str
››Q X
,
››X Y
$str
››Z g
,
››g h
$str
››i v
}
››w x
,
››x y
values
ﬁﬁ 
:
ﬁﬁ 
new
ﬁﬁ 
object
ﬁﬁ "
[
ﬁﬁ" #
,
ﬁﬁ# $
]
ﬁﬁ$ %
{
ﬂﬂ 
{
‡‡ 
new
‡‡ 
Guid
‡‡ 
(
‡‡ 
$str
‡‡ E
)
‡‡E F
,
‡‡F G
$str
‡‡H U
,
‡‡U V
$num
‡‡W X
,
‡‡X Y
$str
‡‡Z ^
,
‡‡^ _
$str
‡‡` l
,
‡‡l m
$num
‡‡n s
,
‡‡s t
new
‡‡u x
Guid
‡‡y }
(
‡‡} ~
$str‡‡~ §
)‡‡§ •
,‡‡• ¶
$num‡‡ß ®
}‡‡© ™
,‡‡™ ´
{
·· 
new
·· 
Guid
·· 
(
·· 
$str
·· E
)
··E F
,
··F G
$str
··H R
,
··R S
$num
··T V
,
··V W
$str
··X \
,
··\ ]
$str
··^ l
,
··l m
$num
··n s
,
··s t
new
··u x
Guid
··y }
(
··} ~
$str··~ §
)··§ •
,··• ¶
$num··ß ©
}··™ ´
}
‚‚ 
)
‚‚ 
;
‚‚ 
migrationBuilder
‰‰ 
.
‰‰ 
CreateIndex
‰‰ (
(
‰‰( )
name
ÂÂ 
:
ÂÂ 
$str
ÂÂ -
,
ÂÂ- .
table
ÊÊ 
:
ÊÊ 
$str
ÊÊ #
,
ÊÊ# $
column
ÁÁ 
:
ÁÁ 
$str
ÁÁ !
)
ÁÁ! "
;
ÁÁ" #
migrationBuilder
ÈÈ 
.
ÈÈ 
CreateIndex
ÈÈ (
(
ÈÈ( )
name
ÍÍ 
:
ÍÍ 
$str
ÍÍ 3
,
ÍÍ3 4
table
ÎÎ 
:
ÎÎ 
$str
ÎÎ &
,
ÎÎ& '
column
ÏÏ 
:
ÏÏ 
$str
ÏÏ $
)
ÏÏ$ %
;
ÏÏ% &
migrationBuilder
ÓÓ 
.
ÓÓ 
CreateIndex
ÓÓ (
(
ÓÓ( )
name
ÔÔ 
:
ÔÔ 
$str
ÔÔ $
,
ÔÔ$ %
table
 
:
 
$str
 
,
 
column
ÒÒ 
:
ÒÒ 
$str
ÒÒ 
,
ÒÒ 
unique
ÚÚ 
:
ÚÚ 
true
ÚÚ 
)
ÚÚ 
;
ÚÚ 
migrationBuilder
ÙÙ 
.
ÙÙ 
CreateIndex
ÙÙ (
(
ÙÙ( )
name
ıı 
:
ıı 
$str
ıı ,
,
ıı, -
table
ˆˆ 
:
ˆˆ 
$str
ˆˆ 
,
ˆˆ 
column
˜˜ 
:
˜˜ 
$str
˜˜ %
)
˜˜% &
;
˜˜& '
migrationBuilder
˘˘ 
.
˘˘ 
CreateIndex
˘˘ (
(
˘˘( )
name
˙˙ 
:
˙˙ 
$str
˙˙ &
,
˙˙& '
table
˚˚ 
:
˚˚ 
$str
˚˚ 
,
˚˚  
column
¸¸ 
:
¸¸ 
$str
¸¸ 
,
¸¸ 
unique
˝˝ 
:
˝˝ 
true
˝˝ 
)
˝˝ 
;
˝˝ 
migrationBuilder
ˇˇ 
.
ˇˇ 
CreateIndex
ˇˇ (
(
ˇˇ( )
name
ÄÄ 
:
ÄÄ 
$str
ÄÄ /
,
ÄÄ/ 0
table
ÅÅ 
:
ÅÅ 
$str
ÅÅ #
,
ÅÅ# $
column
ÇÇ 
:
ÇÇ 
$str
ÇÇ #
)
ÇÇ# $
;
ÇÇ$ %
migrationBuilder
ÑÑ 
.
ÑÑ 
CreateIndex
ÑÑ (
(
ÑÑ( )
name
ÖÖ 
:
ÖÖ 
$str
ÖÖ )
,
ÖÖ) *
table
ÜÜ 
:
ÜÜ 
$str
ÜÜ "
,
ÜÜ" #
column
áá 
:
áá 
$str
áá 
,
áá 
unique
àà 
:
àà 
true
àà 
)
àà 
;
àà 
migrationBuilder
ää 
.
ää 
CreateIndex
ää (
(
ää( )
name
ãã 
:
ãã 
$str
ãã 1
,
ãã1 2
table
åå 
:
åå 
$str
åå #
,
åå# $
column
çç 
:
çç 
$str
çç %
,
çç% &
unique
éé 
:
éé 
true
éé 
)
éé 
;
éé 
}
èè 	
	protected
íí 
override
íí 
void
íí 
Down
íí  $
(
íí$ %
MigrationBuilder
íí% 5
migrationBuilder
íí6 F
)
ííF G
{
ìì 	
migrationBuilder
îî 
.
îî 
	DropTable
îî &
(
îî& '
name
ïï 
:
ïï 
$str
ïï "
)
ïï" #
;
ïï# $
migrationBuilder
óó 
.
óó 
	DropTable
óó &
(
óó& '
name
òò 
:
òò 
$str
òò %
)
òò% &
;
òò& '
migrationBuilder
öö 
.
öö 
	DropTable
öö &
(
öö& '
name
õõ 
:
õõ 
$str
õõ "
)
õõ" #
;
õõ# $
migrationBuilder
ùù 
.
ùù 
	DropTable
ùù &
(
ùù& '
name
ûû 
:
ûû 
$str
ûû 
)
ûû 
;
ûû  
migrationBuilder
†† 
.
†† 
	DropTable
†† &
(
††& '
name
°° 
:
°° 
$str
°° !
)
°°! "
;
°°" #
migrationBuilder
££ 
.
££ 
	DropTable
££ &
(
££& '
name
§§ 
:
§§ 
$str
§§ 
)
§§ 
;
§§ 
migrationBuilder
¶¶ 
.
¶¶ 
	DropTable
¶¶ &
(
¶¶& '
name
ßß 
:
ßß 
$str
ßß 
)
ßß 
;
ßß  
migrationBuilder
©© 
.
©© 
	DropTable
©© &
(
©©& '
name
™™ 
:
™™ 
$str
™™ "
)
™™" #
;
™™# $
}
´´ 	
}
¨¨ 
}≠≠ Ô$
sD:\OneDrive\Dokumenty\Programowanie\EPAM\Repos\Gamestore\Gamestore.Repository\Migrations\20240619082208_Comments.cs
	namespace 	
	Gamestore
 
. 
DAL 
. 

Migrations "
{ 
public 

partial 
class 
Comments !
:" #
	Migration$ -
{ 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str  
,  !
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
Guid& *
>* +
(+ ,
type, 0
:0 1
$str2 D
,D E
nullableF N
:N O
falseP U
)U V
,V W
Name 
= 
table  
.  !
Column! '
<' (
string( .
>. /
(/ 0
type0 4
:4 5
$str6 E
,E F
nullableG O
:O P
falseQ V
)V W
,W X
Body 
= 
table  
.  !
Column! '
<' (
string( .
>. /
(/ 0
type0 4
:4 5
$str6 E
,E F
nullableG O
:O P
falseQ V
)V W
,W X
GameId   
=   
table   "
.  " #
Column  # )
<  ) *
Guid  * .
>  . /
(  / 0
type  0 4
:  4 5
$str  6 H
,  H I
nullable  J R
:  R S
false  T Y
)  Y Z
,  Z [
ParentCommentId!! #
=!!$ %
table!!& +
.!!+ ,
Column!!, 2
<!!2 3
Guid!!3 7
>!!7 8
(!!8 9
type!!9 =
:!!= >
$str!!? Q
,!!Q R
nullable!!S [
:!![ \
true!!] a
)!!a b
}"" 
,"" 
constraints## 
:## 
table## "
=>### %
{$$ 
table%% 
.%% 

PrimaryKey%% $
(%%$ %
$str%%% 2
,%%2 3
x%%4 5
=>%%6 8
x%%9 :
.%%: ;
Id%%; =
)%%= >
;%%> ?
table&& 
.&& 

ForeignKey&& $
(&&$ %
name'' 
:'' 
$str'' D
,''D E
column(( 
:(( 
x((  !
=>((" $
x((% &
.((& '
ParentCommentId((' 6
,((6 7
principalTable)) &
:))& '
$str))( 2
,))2 3
principalColumn** '
:**' (
$str**) -
)**- .
;**. /
table++ 
.++ 

ForeignKey++ $
(++$ %
name,, 
:,, 
$str,, 8
,,,8 9
column-- 
:-- 
x--  !
=>--" $
x--% &
.--& '
GameId--' -
,--- .
principalTable.. &
:..& '
$str..( /
,../ 0
principalColumn// '
://' (
$str//) -
,//- .
onDelete00  
:00  !
ReferentialAction00" 3
.003 4
Cascade004 ;
)00; <
;00< =
}11 
)11 
;11 
migrationBuilder33 
.33 
CreateIndex33 (
(33( )
name44 
:44 
$str44 *
,44* +
table55 
:55 
$str55 !
,55! "
column66 
:66 
$str66  
)66  !
;66! "
migrationBuilder88 
.88 
CreateIndex88 (
(88( )
name99 
:99 
$str99 3
,993 4
table:: 
::: 
$str:: !
,::! "
column;; 
:;; 
$str;; )
);;) *
;;;* +
}<< 	
	protected?? 
override?? 
void?? 
Down??  $
(??$ %
MigrationBuilder??% 5
migrationBuilder??6 F
)??F G
{@@ 	
migrationBuilderAA 
.AA 
	DropTableAA &
(AA& '
nameBB 
:BB 
$strBB  
)BB  !
;BB! "
}CC 	
}DD 
}EE Ú
oD:\OneDrive\Dokumenty\Programowanie\EPAM\Repos\Gamestore\Gamestore.Repository\Repositories\CommentRepository.cs
	namespace 	
	Gamestore
 
. 
DAL 
. 
Repositories $
;$ %
public 
class 
CommentRepository 
( 
GamestoreContext /
context0 7
)7 8
:9 :
RepositoryBase; I
<I J
CommentJ Q
>Q R
(R S
contextS Z
)Z [
,[ \
ICommentRepository] o
{ 
private		 
readonly		 
GamestoreContext		 %
_context		& .
=		/ 0
context		1 8
;		8 9
public 

Task 
< 
List 
< 
Comment 
> 
> 
GetAllAsync *
(* +
)+ ,
{ 
return 
_context 
. 
Comments  
.  !
ToListAsync! ,
(, -
)- .
;. /
} 
public 

Task 
< 
Comment 
? 
> 
GetByIdAsync &
(& '
Guid' +
id, .
). /
{ 
return 
_context 
. 
Comments  
.  !
Where! &
(& '
x' (
=>) +
x, -
.- .
Id. 0
==1 3
id4 6
)6 7
.7 8
FirstOrDefaultAsync8 K
(K L
)L M
;M N
} 
public 

Task 
< 
List 
< 
Comment 
> 
> ,
 GetChildCommentsByCommentIdAsync ?
(? @
Guid@ D
idE G
)G H
{ 
return 
_context 
. 
Comments  
.  !
Where! &
(& '
x' (
=>) +
x, -
.- .
ParentCommentId. =
==> @
idA C
)C D
.D E
ToListAsyncE P
(P Q
)Q R
;R S
} 
public 

Task 
< 
List 
< 
Comment 
> 
> 
GetByGameKeyAsync 0
(0 1
string1 7
key8 ;
); <
{ 
return 
_context 
. 
Comments  
.  !
Where! &
(& '
x' (
=>) +
x, -
.- .
Product. 5
.5 6
Key6 9
==: <
key= @
)@ A
.A B
ToListAsyncB M
(M N
)N O
;O P
} 
public 

async 
Task 
UpdateAsync !
(! "
Comment" )
entity* 0
)0 1
{   
var!! 
g!! 
=!! 
await!! 
_context!! 
.!! 
Comments!! '
.!!' (
Where!!( -
(!!- .
p!!. /
=>!!0 2
p!!3 4
.!!4 5
Id!!5 7
==!!8 :
entity!!; A
.!!A B
Id!!B D
)!!D E
.!!E F

FirstAsync!!F P
(!!P Q
)!!Q R
;!!R S
_context"" 
."" 
Entry"" 
("" 
g"" 
)"" 
."" 
CurrentValues"" '
.""' (
	SetValues""( 1
(""1 2
entity""2 8
)""8 9
;""9 :
}## 
}$$ Â
qD:\OneDrive\Dokumenty\Programowanie\EPAM\Repos\Gamestore\Gamestore.Repository\Repositories\GameGenreRepository.cs
	namespace 	
	Gamestore
 
. 
DAL 
. 
Repositories $
;$ %
public 
class 
GameGenreRepository  
(  !
GamestoreContext! 1
context2 9
)9 :
:; <
RepositoryBase= K
<K L

GameGenresL V
>V W
(W X
contextX _
)_ `
,` a 
IGameGenreRepositoryb v
{ 
private		 
readonly		 
GamestoreContext		 %
_context		& .
=		/ 0
context		1 8
;		8 9
public 

Task 
< 
List 
< 

GameGenres 
>  
>  !
GetByGameIdAsync" 2
(2 3
Guid3 7
id8 :
): ;
{ 
return 
_context 
. 

GameGenres "
." #
Where# (
(( )
x) *
=>+ -
x. /
./ 0
GameId0 6
==7 9
id: <
)< =
.= >
ToListAsync> I
(I J
)J K
;K L
} 
public 

Task 
< 
List 
< 

GameGenres 
>  
>  !
GetAllAsync" -
(- .
). /
{ 
return 
_context 
. 

GameGenres "
." #
ToListAsync# .
(. /
)/ 0
;0 1
} 
} §
tD:\OneDrive\Dokumenty\Programowanie\EPAM\Repos\Gamestore\Gamestore.Repository\Repositories\GamePlatformRepository.cs
	namespace 	
	Gamestore
 
. 
DAL 
. 
Repositories $
;$ %
public 
class "
GamePlatformRepository #
(# $
GamestoreContext$ 4
context5 <
)< =
:> ?
RepositoryBase@ N
<N O
GamePlatformO [
>[ \
(\ ]
context] d
)d e
,e f#
IGamePlatformRepositoryg ~
{ 
private		 
readonly		 
GamestoreContext		 %
_context		& .
=		/ 0
context		1 8
;		8 9
public 

Task 
< 
List 
< 
GamePlatform !
>! "
>" #
GetByGameIdAsync$ 4
(4 5
Guid5 9
id: <
)< =
{ 
return 
_context 
. 
GamePlatforms %
.% &
Include& -
(- .
x. /
=>0 2
x3 4
.4 5
Platform5 =
)= >
.> ?
Where? D
(D E
xE F
=>G I
xJ K
.K L
GameIdL R
==S U
idV X
)X Y
.Y Z
ToListAsyncZ e
(e f
)f g
;g h
} 
public 

Task 
< 
List 
< 
GamePlatform !
>! "
>" #
GetAllAsync$ /
(/ 0
)0 1
{ 
return 
_context 
. 
GamePlatforms %
.% &
Include& -
(- .
x. /
=>0 2
x3 4
.4 5
Platform5 =
)= >
.> ?
ToListAsync? J
(J K
)K L
;L M
} 
} ∂Q
lD:\OneDrive\Dokumenty\Programowanie\EPAM\Repos\Gamestore\Gamestore.Repository\Repositories\GameRepository.cs
	namespace 	
	Gamestore
 
. 
DAL 
. 
Repositories $
;$ %
public 
class 
GameRepository 
( 
GamestoreContext ,
context- 4
)4 5
:6 7
RepositoryBase8 F
<F G
GameG K
>K L
(L M
contextM T
)T U
,U V
IGameRepositoryW f
{		 
private

 
readonly

 
GamestoreContext

 %
_context

& .
=

/ 0
context

1 8
;

8 9
public 

Task 
< 
List 
< 
Genre 
> 
>  
GetGenresByGameAsync 1
(1 2
Guid2 6
id7 9
)9 :
{ 
return 
_context 
. 

GameGenres "
." #
Where# (
(( )
x) *
=>+ -
x. /
./ 0
GameId0 6
==7 9
id: <
)< =
.= >
Include> E
(E F
xF G
=>H J
xK L
.L M
CategoryM U
)U V
.V W
SelectW ]
(] ^
x^ _
=>` b
xc d
.d e
Categorye m
)m n
.n o
ToListAsynco z
(z {
){ |
;| }
} 
public 

Task 
< 
List 
< 
Platform 
> 
> #
GetPlatformsByGameAsync  7
(7 8
Guid8 <
id= ?
)? @
{ 
return 
_context 
. 
GamePlatforms %
.% &
Where& +
(+ ,
x, -
=>. 0
x1 2
.2 3
GameId3 9
==: <
id= ?
)? @
.@ A
IncludeA H
(H I
xI J
=>K M
xN O
.O P
PlatformP X
)X Y
.Y Z
SelectZ `
(` a
xa b
=>c e
xf g
.g h
Platformh p
)p q
.q r
ToListAsyncr }
(} ~
)~ 
;	 Ä
} 
public 

Task 
< 
	Publisher 
? 
> #
GetPublisherByGameAsync 3
(3 4
Guid4 8
gameId9 ?
)? @
{ 
return 
_context 
. 
Games 
. 
Include %
(% &
x& '
=>( *
x+ ,
., -
	Publisher- 6
)6 7
.7 8
Where8 =
(= >
x> ?
=>@ B
xC D
.D E
IdE G
==H J
gameIdK Q
)Q R
.R S
SelectS Y
(Y Z
xZ [
=>\ ^
x_ `
.` a
	Publishera j
)j k
.k l
FirstOrDefaultAsyncl 
(	 Ä
)
Ä Å
;
Å Ç
} 
public 

Task 
< 
Game 
? 
> 
GetGameByKeyAsync (
(( )
string) /
key0 3
)3 4
{ 
var 
query 
= 
GameIncludes  
(  !
)! "
;" #
return 
query 
. 
Where 
( 
x 
=> 
x  !
.! "
Key" %
==& (
key) ,
), -
.- .
AsSplitQuery. :
(: ;
); <
.< =
FirstOrDefaultAsync= P
(P Q
)Q R
;R S
} 
public!! 

Task!! 
<!! 
Game!! 
?!! 
>!! 
GetByIdAsync!! #
(!!# $
Guid!!$ (
id!!) +
)!!+ ,
{"" 
var## 
query## 
=## 
GameIncludes##  
(##  !
)##! "
;##" #
return$$ 
query$$ 
.$$ 
Where$$ 
($$ 
x$$ 
=>$$ 
x$$  !
.$$! "
Id$$" $
==$$% '
id$$( *
)$$* +
.$$+ ,
AsSplitQuery$$, 8
($$8 9
)$$9 :
.$$: ;
FirstOrDefaultAsync$$; N
($$N O
)$$O P
;$$P Q
}%% 
public'' 

async'' 
Task'' 
UpdateAsync'' !
(''! "
Game''" &
entity''' -
)''- .
{(( 
var)) 
g)) 
=)) 
await)) 
_context)) 
.)) 
Games)) $
.))$ %
Include))% ,
()), -
x))- .
=>))/ 1
x))2 3
.))3 4
ProductCategories))4 E
)))E F
.))F G
Include))G N
())N O
x))O P
=>))Q S
x))T U
.))U V
ProductPlatforms))V f
)))f g
.))g h
Where))h m
())m n
p))n o
=>))p r
p))s t
.))t u
Id))u w
==))x z
entity	)){ Å
.
))Å Ç
Id
))Ç Ñ
)
))Ñ Ö
.
))Ö Ü

FirstAsync
))Ü ê
(
))ê ë
)
))ë í
;
))í ì
_context** 
.** 
Entry** 
(** 
g** 
)** 
.** 
CurrentValues** '
.**' (
	SetValues**( 1
(**1 2
entity**2 8
)**8 9
;**9 :
g++ 	
.++	 

ProductCategories++
 
=++ 
entity++ $
.++$ %
ProductCategories++% 6
;++6 7
g,, 	
.,,	 

ProductPlatforms,,
 
=,, 
entity,, #
.,,# $
ProductPlatforms,,$ 4
;,,4 5
}-- 
public// 

Task// 
<// 
List// 
<// 
Game// 
>// 
>// 
GetAllAsync// '
(//' (
)//( )
{00 
var11 
query11 
=11 
GameIncludes11  
(11  !
)11! "
;11" #
return22 
query22 
.22 
Where22 
(22 
x22 
=>22 
!22  !
x22! "
.22" #
	IsDeleted22# ,
)22, -
.22- .
AsSplitQuery22. :
(22: ;
)22; <
.22< =
ToListAsync22= H
(22H I
)22I J
;22J K
}33 
public55 

Task55 
<55 
List55 
<55 
Game55 
>55 
>55 "
GetAllWithDeletedAsync55 2
(552 3
)553 4
{66 
var77 
query77 
=77 
GameIncludes77  
(77  !
)77! "
;77" #
return88 
query88 
.88 
AsSplitQuery88 !
(88! "
)88" #
.88# $
ToListAsync88$ /
(88/ 0
)880 1
;881 2
}99 
public;; 


IQueryable;; 
<;; 
Game;; 
>;; 
GetGamesAsQueryable;; /
(;;/ 0
);;0 1
{<< 
var== 
includes== 
=== 
GameIncludes== #
(==# $
)==$ %
;==% &
return>> 
includes>> 
.>> 
Where>> 
(>> 
x>> 
=>>>  "
!>># $
x>>$ %
.>>% &
	IsDeleted>>& /
)>>/ 0
;>>0 1
}?? 
publicAA 


IQueryableAA 
<AA 
GameAA 
>AA *
GetGamesWithDeletedAsQueryableAA :
(AA: ;
)AA; <
{BB 
returnCC 
GameIncludesCC 
(CC 
)CC 
;CC 
}DD 
publicFF 

asyncFF 
TaskFF 

SoftDeleteFF  
(FF  !
GameFF! %
gameFF& *
)FF* +
{GG 
varHH 
gHH 
=HH 
awaitHH 
_contextHH 
.HH 
GamesHH $
.HH$ %
WhereHH% *
(HH* +
xHH+ ,
=>HH- /
xHH0 1
.HH1 2
IdHH2 4
==HH5 7
gameHH8 <
.HH< =
IdHH= ?
)HH? @
.HH@ A

FirstAsyncHHA K
(HHK L
)HHL M
;HHM N
gII 	
.II	 

	IsDeletedII
 
=II 
trueII 
;II 
}JJ 
privateLL  
IIncludableQueryableLL  
<LL  !
GameLL! %
,LL% &
ListLL' +
<LL+ ,
CommentLL, 3
>LL3 4
>LL4 5
GameIncludesLL6 B
(LLB C
)LLC D
{MM 
returnNN 
_contextNN 
.NN 
GamesNN 
.OO 
IncludeOO 
(OO 
xOO 
=>OO 
xOO 
.OO 
ProductCategoriesOO -
)OO- .
.OO. /
ThenIncludeOO/ :
(OO: ;
xOO; <
=>OO= ?
xOO@ A
.OOA B
CategoryOOB J
)OOJ K
.PP 
IncludePP 
(PP 
xPP 
=>PP 
xPP 
.PP 
ProductPlatformsPP ,
)PP, -
.PP- .
ThenIncludePP. 9
(PP9 :
xPP: ;
=>PP< >
xPP? @
.PP@ A
PlatformPPA I
)PPI J
.QQ 
IncludeQQ 
(QQ 
xQQ 
=>QQ 
xQQ 
.QQ 
	PublisherQQ %
)QQ% &
.RR 
IncludeRR 
(RR 
xRR 
=>RR 
xRR 
.RR 
CommentsRR $
)RR$ %
;RR% &
}SS 
}TT ¸'
mD:\OneDrive\Dokumenty\Programowanie\EPAM\Repos\Gamestore\Gamestore.Repository\Repositories\GenreRepository.cs
	namespace 	
	Gamestore
 
. 
DAL 
. 
Repositories $
;$ %
public 
class 
GenreRepository 
( 
GamestoreContext -
context. 5
)5 6
:7 8
RepositoryBase9 G
<G H
GenreH M
>M N
(N O
contextO V
)V W
,W X
IGenreRepositoryY i
{ 
private		 
readonly		 
GamestoreContext		 %
_context		& .
=		/ 0
context		1 8
;		8 9
public 

Task 
< 
List 
< 
Game 
> 
>  
GetGamesByGenreAsync 0
(0 1
Guid1 5
id6 8
)8 9
{ 
return 
_context 
. 
Games 
. 
Include 
( 
x 
=> 
x 
. 
ProductCategories -
)- .
.. /
ThenInclude/ :
(: ;
x; <
=>= ?
x@ A
.A B
CategoryB J
)J K
. 
Include 
( 
x 
=> 
x 
. 
ProductPlatforms ,
), -
.- .
ThenInclude. 9
(9 :
x: ;
=>< >
x? @
.@ A
PlatformA I
)I J
. 
Include 
( 
x 
=> 
x 
. 
	Publisher %
)% &
. 
Include 
( 
x 
=> 
x 
. 
Comments $
)$ %
. 
Where 
( 
x 
=> 
x 
. 
ProductCategories +
.+ ,
Any, /
(/ 0
gg0 2
=>3 5
gg6 8
.8 9
GenreId9 @
==A C
idD F
&&G I
ggJ L
.L M
GameIdM S
==T V
xW X
.X Y
IdY [
)[ \
&&] _
!` a
xa b
.b c
	IsDeletedc l
)l m
. 
AsSplitQuery 
( 
) 
. 
ToListAsync 
( 
) 
; 
} 
public 

Task 
< 
List 
< 
Genre 
> 
> '
GetGenresByParentGenreAsync 8
(8 9
Guid9 =
id> @
)@ A
{ 
return 
_context 
. 
Genres 
. 
Where $
($ %
x% &
=>' )
x* +
.+ ,
ParentGenreId, 9
==: <
id= ?
)? @
.@ A
ToListAsyncA L
(L M
)M N
;N O
} 
public 

Task 
< 
Genre 
? 
> 
GetByIdAsync $
($ %
Guid% )
id* ,
), -
{ 
return 
_context 
. 
Genres 
. 
Where $
($ %
x% &
=>' )
x* +
.+ ,
Id, .
==/ 1
id2 4
)4 5
.5 6
FirstOrDefaultAsync6 I
(I J
)J K
;K L
} 
public!! 

async!! 
Task!! 
UpdateAsync!! !
(!!! "
Genre!!" '
entity!!( .
)!!. /
{"" 
var## 
g## 
=## 
await## 
_context## 
.## 
Genres## %
.##% &
Where##& +
(##+ ,
p##, -
=>##. 0
p##1 2
.##2 3
Id##3 5
==##6 8
entity##9 ?
.##? @
Id##@ B
)##B C
.##C D

FirstAsync##D N
(##N O
)##O P
;##P Q
_context$$ 
.$$ 
Entry$$ 
($$ 
g$$ 
)$$ 
.$$ 
CurrentValues$$ '
.$$' (
	SetValues$$( 1
($$1 2
entity$$2 8
)$$8 9
;$$9 :
}%% 
public'' 

Task'' 
<'' 
List'' 
<'' 
Genre'' 
>'' 
>'' 
GetAllAsync'' (
(''( )
)'') *
{(( 
return)) 
_context)) 
.)) 
Genres)) 
.)) 
ToListAsync)) *
())* +
)))+ ,
;)), -
}** 
}++ ÷ 
qD:\OneDrive\Dokumenty\Programowanie\EPAM\Repos\Gamestore\Gamestore.Repository\Repositories\OrderGameRepository.cs
	namespace 	
	Gamestore
 
. 
DAL 
. 
Repositories $
;$ %
public 
class 
OrderGameRepository  
(  !
GamestoreContext! 1
context2 9
)9 :
:; <
RepositoryBase= K
<K L
	OrderGameL U
>U V
(V W
contextW ^
)^ _
,_ ` 
IOrderGameRepositorya u
{ 
private		 
readonly		 
GamestoreContext		 %
_context		& .
=		/ 0
context		1 8
;		8 9
public 

Task 
< 
List 
< 
	OrderGame 
> 
>  
GetAllAsync! ,
(, -
)- .
{ 
return 
_context 
. 

OrderGames "
." #
ToListAsync# .
(. /
)/ 0
;0 1
} 
public 

Task 
< 
	OrderGame 
? 
> 
GetByIdAsync (
(( )
Guid) -
id. 0
)0 1
{ 
return 
_context 
. 

OrderGames "
." #
FirstOrDefaultAsync# 6
(6 7
x7 8
=>9 ;
x< =
.= >
OrderId> E
==F H
idI K
)K L
;L M
} 
public 

Task 
< 
List 
< 
	OrderGame 
> 
>  
GetByOrderIdAsync! 2
(2 3
Guid3 7
id8 :
): ;
{ 
return 
_context 
. 

OrderGames "
." #
Where# (
(( )
x) *
=>+ -
x. /
./ 0
OrderId0 7
==8 :
id; =
)= >
.> ?
ToListAsync? J
(J K
)K L
;L M
} 
public 

Task 
< 
	OrderGame 
? 
> )
GetByOrderIdAndProductIdAsync 9
(9 :
Guid: >
orderId? F
,F G
GuidH L
	productIdM V
)V W
{ 
return 
_context 
. 

OrderGames "
." #
Where# (
(( )
x) *
=>+ -
x. /
./ 0
OrderId0 7
==8 :
orderId; B
&&C E
xF G
.G H
GameIdH N
==O Q
	productIdR [
)[ \
.\ ]
FirstOrDefaultAsync] p
(p q
)q r
;r s
} 
public 

async 
Task 
UpdateAsync !
(! "
	OrderGame" +
entity, 2
)2 3
{   
var!! 
g!! 
=!! 
await!! 
_context!! 
.!! 

OrderGames!! )
.!!) *
Where!!* /
(!!/ 0
x!!0 1
=>!!2 4
x!!5 6
.!!6 7
GameId!!7 =
==!!> @
entity!!A G
.!!G H
GameId!!H N
&&!!O Q
x!!R S
.!!S T
OrderId!!T [
==!!\ ^
entity!!_ e
.!!e f
OrderId!!f m
)!!m n
.!!n o 
FirstOrDefaultAsync	!!o Ç
(
!!Ç É
)
!!É Ñ
;
!!Ñ Ö
if"" 

("" 
g"" 
!="" 
null"" 
)"" 
{## 	
_context$$ 
.$$ 
Entry$$ 
($$ 
g$$ 
)$$ 
.$$ 
CurrentValues$$ +
.$$+ ,
	SetValues$$, 5
($$5 6
entity$$6 <
)$$< =
;$$= >
}%% 	
}&& 
}'' ˙,
mD:\OneDrive\Dokumenty\Programowanie\EPAM\Repos\Gamestore\Gamestore.Repository\Repositories\OrderRepository.cs
	namespace 	
	Gamestore
 
. 
DAL 
. 
Repositories $
;$ %
public 
class 
OrderRepository 
( 
GamestoreContext -
context. 5
)5 6
:7 8
RepositoryBase9 G
<G H
OrderH M
>M N
(N O
contextO V
)V W
,W X
IOrderRepositoryY i
{		 
private

 
readonly

 
GamestoreContext

 %
_context

& .
=

/ 0
context

1 8
;

8 9
public 

Task 
< 
List 
< 
Order 
> 
> 
GetAllAsync (
(( )
)) *
{ 
return 
_context 
. 
Orders 
. 
ToListAsync *
(* +
)+ ,
;, -
} 
public 

Task 
< 
Order 
? 
>  
GetByCustomerIdAsync ,
(, -
Guid- 1
id2 4
)4 5
{ 
var 
query 
= 
OrderIncludes !
(! "
)" #
;# $
return 
query 
. 
Where 
( 
x 
=> 
x  !
.! "
Status" (
==) +
Enums, 1
.1 2
OrderStatus2 =
.= >
Open> B
&&C E
xF G
.G H

CustomerIdH R
==S U
idV X
)X Y
.Y Z
FirstOrDefaultAsyncZ m
(m n
)n o
;o p
} 
public 

Task 
< 
Order 
? 
> 
GetByIdAsync $
($ %
Guid% )
id* ,
), -
{ 
return 
_context 
. 
Orders 
. 
Include &
(& '
x' (
=>) +
x, -
.- .

OrderGames. 8
)8 9
.9 :
Where: ?
(? @
x@ A
=>B D
xE F
.F G
IdG I
==J L
idM O
)O P
.P Q
FirstOrDefaultAsyncQ d
(d e
)e f
;f g
} 
public 

Task 
< 
List 
< 
Order 
> 
> %
GetOrdersByDateRangeAsync 6
(6 7
DateTime7 ?
startD@ F
,F G
DateTimeH P
endDQ U
)U V
{ 
return 
_context 
. 
Orders 
. 
Where $
($ %
x% &
=>' )
x* +
.+ ,
	OrderDate, 5
>=6 8
startD9 ?
&&@ B
xC D
.D E
	OrderDateE N
<=O Q
endDR V
)V W
.W X
OrderByDescendingX i
(i j
xj k
=>l n
xo p
.p q
	OrderDateq z
)z {
.{ |
ToListAsync	| á
(
á à
)
à â
;
â ä
} 
public!! 

Task!! 
<!! 
Order!! 
?!! 
>!! #
GetWithDetailsByIdAsync!! /
(!!/ 0
Guid!!0 4
id!!5 7
)!!7 8
{"" 
var## 
query## 
=## 
OrderIncludes## !
(##! "
)##" #
;### $
return$$ 
query$$ 
.$$ 
Where$$ 
($$ 
x$$ 
=>$$ 
x$$  !
.$$! "
Id$$" $
==$$% '
id$$( *
)$$* +
.$$+ ,
FirstOrDefaultAsync$$, ?
($$? @
)$$@ A
;$$A B
}%% 
public'' 

async'' 
Task'' 
UpdateAsync'' !
(''! "
Order''" '
entity''( .
)''. /
{(( 
var)) 
g)) 
=)) 
await)) 
_context)) 
.)) 
Orders)) %
.))% &
Where))& +
())+ ,
p)), -
=>)). 0
p))1 2
.))2 3
Id))3 5
==))6 8
entity))9 ?
.))? @
Id))@ B
)))B C
.))C D

FirstAsync))D N
())N O
)))O P
;))P Q
_context** 
.** 
Entry** 
(** 
g** 
)** 
.** 
CurrentValues** '
.**' (
	SetValues**( 1
(**1 2
entity**2 8
)**8 9
;**9 :
}++ 
private--  
IIncludableQueryable--  
<--  !
Order--! &
,--& '
Game--( ,
>--, -
OrderIncludes--. ;
(--; <
)--< =
{.. 
return// 
_context// 
.// 
Orders// 
.00 
Include00 
(00 
x00 
=>00 
x00 
.00 

OrderGames00 &
)00& '
.11 
ThenInclude11 
(11 
x11 
=>11 
x11 
.11  
Game11  $
)11$ %
;11% &
}22 
}33 †&
pD:\OneDrive\Dokumenty\Programowanie\EPAM\Repos\Gamestore\Gamestore.Repository\Repositories\PlatformRepository.cs
	namespace 	
	Gamestore
 
. 
DAL 
. 
Repositories $
;$ %
public 
class 
PlatformRepository 
(  
GamestoreContext  0
context1 8
)8 9
:: ;
RepositoryBase< J
<J K
PlatformK S
>S T
(T U
contextU \
)\ ]
,] ^
IPlatformRepository_ r
{ 
private		 
readonly		 
GamestoreContext		 %
_context		& .
=		/ 0
context		1 8
;		8 9
public 

Task 
< 
List 
< 
Game 
> 
> #
GetGamesByPlatformAsync 3
(3 4
Guid4 8
id9 ;
); <
{ 
return 
_context 
. 
Games 
. 
Include 
( 
x 
=> 
x 
. 
	Publisher $
)$ %
. 
Include 
( 
x 
=> 
x 
. 
ProductCategories ,
), -
.- .
ThenInclude. 9
(9 :
x: ;
=>< >
x? @
.@ A
CategoryA I
)I J
. 
Include 
( 
x 
=> 
x 
. 
ProductPlatforms +
)+ ,
., -
ThenInclude- 8
(8 9
x9 :
=>; =
x> ?
.? @
Platform@ H
)H I
. 
Where 
( 
x 
=> 
x 
. 
ProductPlatforms )
.) *
Any* -
(- .
gp. 0
=>1 3
gp4 6
.6 7

PlatformId7 A
==B D
idE G
&&H J
gpK M
.M N
GameIdN T
==U W
xX Y
.Y Z
IdZ \
)\ ]
&&^ `
!a b
xb c
.c d
	IsDeletedd m
)m n
. 
ToListAsync 
( 
) 
; 
} 
public 

Task 
< 
Platform 
? 
> 
GetByIdAsync '
(' (
Guid( ,
id- /
)/ 0
{ 
return 
_context 
. 
	Platforms !
.! "
Where" '
(' (
x( )
=>* ,
x- .
.. /
Id/ 1
==2 4
id5 7
)7 8
.8 9
FirstOrDefaultAsync9 L
(L M
)M N
;N O
} 
public 

Task 
< 
Platform 
? 
> 
GetByTypeAsync )
() *
string* 0
type1 5
)5 6
{ 
return 
_context 
. 
	Platforms !
.! "
Where" '
(' (
x( )
=>* ,
x- .
.. /
Type/ 3
==4 6
type7 ;
); <
.< =
FirstOrDefaultAsync= P
(P Q
)Q R
;R S
} 
public 

async 
Task 
UpdateAsync !
(! "
Platform" *
entity+ 1
)1 2
{   
var!! 
g!! 
=!! 
await!! 
_context!! 
.!! 
	Platforms!! (
.!!( )
Where!!) .
(!!. /
p!!/ 0
=>!!1 3
p!!4 5
.!!5 6
Id!!6 8
==!!9 ;
entity!!< B
.!!B C
Id!!C E
)!!E F
.!!F G

FirstAsync!!G Q
(!!Q R
)!!R S
;!!S T
_context"" 
."" 
Entry"" 
("" 
g"" 
)"" 
."" 
CurrentValues"" '
.""' (
	SetValues""( 1
(""1 2
entity""2 8
)""8 9
;""9 :
}## 
public%% 

Task%% 
<%% 
List%% 
<%% 
Platform%% 
>%% 
>%% 
GetAllAsync%%  +
(%%+ ,
)%%, -
{&& 
return'' 
_context'' 
.'' 
	Platforms'' !
.''! "
ToListAsync''" -
(''- .
)''. /
;''/ 0
}(( 
})) í$
qD:\OneDrive\Dokumenty\Programowanie\EPAM\Repos\Gamestore\Gamestore.Repository\Repositories\PublisherRepository.cs
	namespace 	
	Gamestore
 
. 
DAL 
. 
Repositories $
;$ %
public 
class 
PublisherRepository  
(  !
GamestoreContext! 1
context2 9
)9 :
:; <
RepositoryBase= K
<K L
	PublisherL U
>U V
(V W
contextW ^
)^ _
,_ ` 
IPublisherRepositorya u
{ 
private		 
readonly		 
GamestoreContext		 %
_context		& .
=		/ 0
context		1 8
;		8 9
public 

Task 
< 
	Publisher 
? 
> 
GetByIdAsync (
(( )
Guid) -
id. 0
)0 1
{ 
return 
_context 
. 

Publishers "
." #
Where# (
(( )
x) *
=>+ -
x. /
./ 0
Id0 2
==3 5
id6 8
)8 9
.9 :
FirstOrDefaultAsync: M
(M N
)N O
;O P
} 
public 

Task 
< 
	Publisher 
? 
> !
GetByCompanyNameAsync 1
(1 2
string2 8
companyName9 D
)D E
{ 
return 
_context 
. 

Publishers "
." #
Where# (
(( )
x) *
=>+ -
x. /
./ 0
CompanyName0 ;
==< >
companyName? J
)J K
.K L
FirstOrDefaultAsyncL _
(_ `
)` a
;a b
} 
public 

Task 
< 
List 
< 
Game 
> 
> &
GetGamesByPublisherIdAsync 6
(6 7
Guid7 ;
id< >
)> ?
{ 
return 
_context 
. 
Games 
. 
Where #
(# $
x$ %
=>& (
x) *
.* +
PublisherId+ 6
==7 9
id: <
&&= ?
!@ A
xA B
.B C
	IsDeletedC L
)L M
.M N
ToListAsyncN Y
(Y Z
)Z [
;[ \
} 
public 

Task 
< 
List 
< 
Game 
> 
> (
GetGamesByPublisherNameAsync 8
(8 9
string9 ?
name@ D
)D E
{ 
return 
_context 
. 
Games 
. 
Where #
(# $
x$ %
=>& (
x) *
.* +
	Publisher+ 4
.4 5
CompanyName5 @
==A C
nameD H
&&I K
!L M
xM N
.N O
	IsDeletedO X
)X Y
.Y Z
ToListAsyncZ e
(e f
)f g
;g h
} 
public 

async 
Task 
UpdateAsync !
(! "
	Publisher" +
entity, 2
)2 3
{   
var!! 
g!! 
=!! 
await!! 
_context!! 
.!! 

Publishers!! )
.!!) *
Where!!* /
(!!/ 0
p!!0 1
=>!!2 4
p!!5 6
.!!6 7
Id!!7 9
==!!: <
entity!!= C
.!!C D
Id!!D F
)!!F G
.!!G H

FirstAsync!!H R
(!!R S
)!!S T
;!!T U
_context"" 
."" 
Entry"" 
("" 
g"" 
)"" 
."" 
CurrentValues"" '
.""' (
	SetValues""( 1
(""1 2
entity""2 8
)""8 9
;""9 :
}## 
public%% 

Task%% 
<%% 
List%% 
<%% 
	Publisher%% 
>%% 
>%%  
GetAllAsync%%! ,
(%%, -
)%%- .
{&& 
return'' 
_context'' 
.'' 

Publishers'' "
.''" #
ToListAsync''# .
(''. /
)''/ 0
;''0 1
}(( 
})) ı
lD:\OneDrive\Dokumenty\Programowanie\EPAM\Repos\Gamestore\Gamestore.Repository\Repositories\RepositoryBase.cs
	namespace 	
	Gamestore
 
. 
DAL 
. 
Repositories $
;$ %
public 
class 
RepositoryBase 
< 
T 
> 
( 
GamestoreContext /
context0 7
)7 8
where 	
T
 
: 
class 
{ 
private		 
readonly		 
DbSet		 
<		 
T		 
>		 
	_entities		 '
=		( )
context		* 1
.		1 2
Set		2 5
<		5 6
T		6 7
>		7 8
(		8 9
)		9 :
;		: ;
	protected 
GamestoreContext 
Context &
{' (
get) ,
;, -
}. /
=0 1
context2 9
;9 :
public 

async 
Task 
< 
T 
> 
AddAsync !
(! "
T" #
entity$ *
)* +
{ 
var 
added 
= 
await 
	_entities #
.# $
AddAsync$ ,
(, -
entity- 3
)3 4
;4 5
return 
added 
. 
Entity 
; 
} 
public 

void 
Delete 
( 
T 
entity 
)  
{ 
	_entities 
. 
Remove 
( 
entity 
)  
;  !
} 
} ¡
[D:\OneDrive\Dokumenty\Programowanie\EPAM\Repos\Gamestore\Gamestore.Repository\UnitOfWork.cs
	namespace 	
	Gamestore
 
. 
DAL 
; 
public 
class 

UnitOfWork 
( 
GamestoreContext (
context) 0
,0 1
IGameRepository2 A
gameRepositoryB P
,P Q
IGenreRepositoryR b
genreRepositoryc r
,r s
IPlatformRepository 
platformRepository *
,* + 
IGameGenreRepository, @
gameGenreRepositoryA T
,T U#
IGamePlatformRepositoryV m#
gamePlatformRepository	n Ñ
,
Ñ Ö 
IPublisherRepository 
publisherRepository ,
,, -
IOrderRepository. >
orderRepository? N
,N O 
IOrderGameRepositoryP d
orderGameRepositorye x
,x y
ICommentRepository		 
commentRepository		 (
)		( )
:		* +
IUnitOfWork		, 7
{

 
private 
readonly 
GamestoreContext %
_context& .
=/ 0
context1 8
;8 9
public 

IGameRepository 
GameRepository )
{* +
get, /
;/ 0
}1 2
=3 4
gameRepository5 C
;C D
public 

IGenreRepository 
GenreRepository +
{, -
get. 1
;1 2
}3 4
=5 6
genreRepository7 F
;F G
public 

IPlatformRepository 
PlatformRepository 1
{2 3
get4 7
;7 8
}9 :
=; <
platformRepository= O
;O P
public 
 
IGameGenreRepository 
GameGenreRepository  3
{4 5
get6 9
;9 :
}; <
== >
gameGenreRepository? R
;R S
public 
#
IGamePlatformRepository ""
GamePlatformRepository# 9
{: ;
get< ?
;? @
}A B
=C D"
gamePlatformRepositoryE [
;[ \
public 
 
IPublisherRepository 
PublisherRepository  3
{4 5
get6 9
;9 :
}; <
== >
publisherRepository? R
;R S
public 

IOrderRepository 
OrderRepository +
{, -
get. 1
;1 2
}3 4
=5 6
orderRepository7 F
;F G
public 
 
IOrderGameRepository 
OrderGameRepository  3
{4 5
get6 9
;9 :
}; <
== >
orderGameRepository? R
;R S
public 

ICommentRepository 
CommentRepository /
{0 1
get2 5
;5 6
}7 8
=9 :
commentRepository; L
;L M
public 

async 
Task 
	SaveAsync 
(  
)  !
{   
await!! 
_context!! 
.!! 
SaveChangesAsync!! '
(!!' (
)!!( )
;!!) *
}"" 
}## 